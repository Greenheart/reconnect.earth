import{s as Vi,r as Ca,W as Ye,f as Xi,g as Yi,h as W,d as N,a3 as Un,i as _e,K as Fa,w as Pa,x as Ha,y as Ba,V as Cn,X as Ka,T as ja,a4 as Wi,j as I,z as Ie,o as Ga,a5 as Va,F as le,e as zt,G as se,v as Dt,a2 as Xa,a6 as Et,k as qi,Q as Ya}from"./scheduler.389ed653.js";import{S as Ji,i as Qi,a as kt,t as Wa,h as qa,n as Ja,l as Qa}from"./index.c3294123.js";import{w as $e,b as er}from"./paths.cce47b92.js";import{l as tr,c as nr,d as ea,I as ir}from"./constants.3c465b5d.js";const nf=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function we(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function ar(e,n){const t={},i={},a={$$scope:1};let r=e.length;for(;r--;){const s=e[r],o=n[r];if(o){for(const h in s)h in o||(i[h]=1);for(const h in o)a[h]||(t[h]=o[h],a[h]=1);e[r]=o}else for(const h in s)a[h]=1}for(const s in i)s in t||(t[s]=void 0);return t}function af(e){return typeof e=="object"&&e!==null?e:{}}const We=(...e)=>e.filter(Boolean).join(" ").trim();function rf(e){return e.phase==="reflection"}const of=e=>{const n=new Date;return n.setSeconds(0,0),{data:e,time:n}};function Mt(...e){const n=e.reduce((a,r)=>a+r.length,0),t=new Uint8Array(n);let i=0;for(let a=0;a<e.length;a++){const r=e[a];t.set(r,i),i+=r.length}return t}function Me(e){const n=Math.min(4294967295,Math.floor(e)),t=new Uint8Array(4);return t[0]=n>>24,t[1]=n>>16&255,t[2]=n>>8&255,t[3]=n&255,t}function Ne(e){return e[0]<<24|e[1]<<16|e[2]<<8|e[3]}const lf=e=>{const n=/\"data\": \[([^\]\{]*)\]/g;return e.replace(n,t=>t.replace(/\s+/g,""))};function Nt(e){return new Promise((n,t)=>{e.oncomplete=e.onsuccess=()=>n(e.result),e.onabort=e.onerror=()=>t(e.error)})}function rr(e,n){const t=indexedDB.open(e);t.onupgradeneeded=()=>t.result.createObjectStore(n);const i=Nt(t);return(a,r)=>i.then(s=>r(s.transaction(n,a).objectStore(n)))}let Gt;function Rn(){return Gt||(Gt=rr("keyval-store","keyval")),Gt}function or(e,n=Rn()){return n("readonly",t=>Nt(t.get(e)))}function lr(e,n,t=Rn()){return t("readwrite",i=>(i.put(n,e),Nt(i.transaction)))}function sr(e,n=Rn()){return n("readwrite",t=>(t.delete(e),Nt(t.transaction)))}function fr(e,n,t){var i;if(t===void 0&&(t={}),!n.codes){n.codes={};for(var a=0;a<n.chars.length;++a)n.codes[n.chars[a]]=a}if(!t.loose&&e.length*n.bits&7)throw new SyntaxError("Invalid padding");for(var r=e.length;e[r-1]==="=";)if(--r,!t.loose&&!((e.length-r)*n.bits&7))throw new SyntaxError("Invalid padding");for(var s=new((i=t.out)!=null?i:Uint8Array)(r*n.bits/8|0),o=0,h=0,l=0,f=0;f<r;++f){var u=n.codes[e[f]];if(u===void 0)throw new SyntaxError("Invalid character "+e[f]);h=h<<n.bits|u,o+=n.bits,o>=8&&(o-=8,s[l++]=255&h>>o)}if(o>=n.bits||255&h<<8-o)throw new SyntaxError("Unexpected end of data");return s}function cr(e,n,t){t===void 0&&(t={});for(var i=t,a=i.pad,r=a===void 0?!0:a,s=(1<<n.bits)-1,o="",h=0,l=0,f=0;f<e.length;++f)for(l=l<<8|255&e[f],h+=8;h>n.bits;)h-=n.bits,o+=n.chars[s&l>>h];if(h&&(o+=n.chars[s&l<<n.bits-h]),r)for(;o.length*n.bits&7;)o+="=";return o}var Fn={chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bits:6},fe={parse:function(n,t){return fr(n,Fn,t)},stringify:function(n,t){return cr(n,Fn,t)}};function dr(e){const n=e.getTime()/1e3;return Me(n)}function hr(e){return Mt(dr(e.time),new Uint8Array(e.data))}function pt(e){return Mt(Me(e.length),...e.map(hr))}const _r=({encrypted:e,protocolVersion:n})=>`${e?"1":"0"}e${n}p`,Pn=({data:e,encrypted:n=!1})=>_r({encrypted:n,protocolVersion:At})+fe.stringify(e);function ur(e){const n=Ne(e);return new Date(n*1e3)}function pr(e){return e.flatMap(t=>{const i=t.toString(2).padStart(8,"0");return[i.slice(0,4),i.slice(4)]}).map(t=>parseInt(t,2))}function gr(e){return{time:ur(e.subarray(0,4)),data:pr(Array.from(e.subarray(4)))}}function Vt(e){const n=Ne(e.subarray(0,4)),t=12;return Array.from({length:n},(i,a)=>{const r=4+a*t,s=e.subarray(r,r+t);return gr(s)})}function wr(e){return e.map(({time:n,data:t})=>({time:new Date(n),data:t}))}const br=e=>e.filter((n,t,i)=>i.findIndex(a=>n.time.getTime()===a.time.getTime()&&n.data.join("")===a.data.join(""))===t),Ke=2e6;async function ta(e,n,t=Ke,i=["encrypt","decrypt"]){const a=new TextEncoder,r=await crypto.subtle.importKey("raw",a.encode(n),"PBKDF2",!1,["deriveKey"]);return{key:await crypto.subtle.deriveKey({name:"PBKDF2",salt:e,iterations:t,hash:"SHA-256"},r,{name:"AES-GCM",length:256},!1,i),salt:e}}async function yr(e,n,t=["encrypt","decrypt"]){const i=e.slice(0,32),a=e.slice(32+16,32+16+4);return ta(i,n,Ne(a),t)}async function Xt(e,n,t=Ke){const i=n.salt,a=crypto.getRandomValues(new Uint8Array(16)),r=Me(t),s=new Uint8Array(await crypto.subtle.encrypt({name:"AES-GCM",iv:a},n.key,e)),o=i.length+a.length+r.length+s.length,h=new Uint8Array(o);return h.set(i),h.set(a,i.length),h.set(r,i.length+a.length),h.set(s,i.length+a.length+r.length),h}async function Hn(e,n){const t=e.slice(32,48),i=e.slice(32+16+4),a=new Uint8Array(await window.crypto.subtle.decrypt({name:"AES-GCM",iv:t},n.key,i));if(!a)throw new Error("Malformed content");return a}const At=1,mr={exportFile(e){return{type:"lifewheel",version:At,url:window.location.href,encrypted:!1,data:e}},async exportEncryptedFile(e,n){if(e instanceof Array&&typeof n>"u")throw new Error("Missing key");const t=e instanceof Array?await Xt(pt(e),n,Ke):e;return{type:"lifewheel",version:At,url:window.location.href,encrypted:!0,data:fe.stringify(t)}},exportLink(e){return Pn({data:pt(e),encrypted:!1})},async exportEncryptedLink(e,n){if(e instanceof Array&&typeof n>"u")throw new Error("Missing key");const t=e instanceof Array?await Xt(pt(e),n,Ke):e;return Pn({data:t,encrypted:!0})},importFile(e){return wr(e.data)},async importEncryptedFile(e,n){const t=await Hn(fe.parse(e.data),n);return Vt(t)},parseLink(e){const n=e.match(/^([10])e(\d+)p/);if(!n)throw new Error(`Invalid header: ${e}`);const t=e.replace(n[0],"");if(!t)throw new Error(`Empty data: ${e}`);return{encrypted:n[1]==="1",protocolVersion:parseInt(n[2],10),data:fe.parse(t)}},importLink(e){if(e.encrypted)throw new Error("Link is encrypted");return Vt(e.data)},async importEncryptedLink(e,n){const t=await Hn(e.data,n);return Vt(t)},deriveKey:ta,deriveKeyFromData:yr,getUniqueEntries(e,n){const t=br([...e,...n]).sort((i,a)=>i.time.getTime()-a.time.getTime());return console.log(`Imported ${Math.abs(t.length-e.length)} - filtered out ${Math.abs(n.length-t.length)}`,t.map(i=>i.time.getTime())),t},getEncryptedData(e,n){return Xt(pt(e),n)},PROTOCOL_VERSION:At,ITERATIONS:Ke};/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const xr=4,Bn=0,Kn=1,vr=2;function Ze(e){let n=e.length;for(;--n>=0;)e[n]=0}const Er=0,na=1,kr=2,Ar=3,Sr=258,zn=29,ot=256,qe=ot+1+zn,De=30,Dn=19,ia=2*qe+1,be=15,Yt=16,Tr=7,On=256,aa=16,ra=17,oa=18,pn=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),St=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Rr=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),la=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),zr=512,ne=new Array((qe+2)*2);Ze(ne);const je=new Array(De*2);Ze(je);const Je=new Array(zr);Ze(Je);const Qe=new Array(Sr-Ar+1);Ze(Qe);const Ln=new Array(zn);Ze(Ln);const Ot=new Array(De);Ze(Ot);function Wt(e,n,t,i,a){this.static_tree=e,this.extra_bits=n,this.extra_base=t,this.elems=i,this.max_length=a,this.has_stree=e&&e.length}let sa,fa,ca;function qt(e,n){this.dyn_tree=e,this.max_code=0,this.stat_desc=n}const da=e=>e<256?Je[e]:Je[256+(e>>>7)],et=(e,n)=>{e.pending_buf[e.pending++]=n&255,e.pending_buf[e.pending++]=n>>>8&255},P=(e,n,t)=>{e.bi_valid>Yt-t?(e.bi_buf|=n<<e.bi_valid&65535,et(e,e.bi_buf),e.bi_buf=n>>Yt-e.bi_valid,e.bi_valid+=t-Yt):(e.bi_buf|=n<<e.bi_valid&65535,e.bi_valid+=t)},Y=(e,n,t)=>{P(e,t[n*2],t[n*2+1])},ha=(e,n)=>{let t=0;do t|=e&1,e>>>=1,t<<=1;while(--n>0);return t>>>1},Dr=e=>{e.bi_valid===16?(et(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},Or=(e,n)=>{const t=n.dyn_tree,i=n.max_code,a=n.stat_desc.static_tree,r=n.stat_desc.has_stree,s=n.stat_desc.extra_bits,o=n.stat_desc.extra_base,h=n.stat_desc.max_length;let l,f,u,c,d,_,g=0;for(c=0;c<=be;c++)e.bl_count[c]=0;for(t[e.heap[e.heap_max]*2+1]=0,l=e.heap_max+1;l<ia;l++)f=e.heap[l],c=t[t[f*2+1]*2+1]+1,c>h&&(c=h,g++),t[f*2+1]=c,!(f>i)&&(e.bl_count[c]++,d=0,f>=o&&(d=s[f-o]),_=t[f*2],e.opt_len+=_*(c+d),r&&(e.static_len+=_*(a[f*2+1]+d)));if(g!==0){do{for(c=h-1;e.bl_count[c]===0;)c--;e.bl_count[c]--,e.bl_count[c+1]+=2,e.bl_count[h]--,g-=2}while(g>0);for(c=h;c!==0;c--)for(f=e.bl_count[c];f!==0;)u=e.heap[--l],!(u>i)&&(t[u*2+1]!==c&&(e.opt_len+=(c-t[u*2+1])*t[u*2],t[u*2+1]=c),f--)}},_a=(e,n,t)=>{const i=new Array(be+1);let a=0,r,s;for(r=1;r<=be;r++)a=a+t[r-1]<<1,i[r]=a;for(s=0;s<=n;s++){let o=e[s*2+1];o!==0&&(e[s*2]=ha(i[o]++,o))}},Lr=()=>{let e,n,t,i,a;const r=new Array(be+1);for(t=0,i=0;i<zn-1;i++)for(Ln[i]=t,e=0;e<1<<pn[i];e++)Qe[t++]=i;for(Qe[t-1]=i,a=0,i=0;i<16;i++)for(Ot[i]=a,e=0;e<1<<St[i];e++)Je[a++]=i;for(a>>=7;i<De;i++)for(Ot[i]=a<<7,e=0;e<1<<St[i]-7;e++)Je[256+a++]=i;for(n=0;n<=be;n++)r[n]=0;for(e=0;e<=143;)ne[e*2+1]=8,e++,r[8]++;for(;e<=255;)ne[e*2+1]=9,e++,r[9]++;for(;e<=279;)ne[e*2+1]=7,e++,r[7]++;for(;e<=287;)ne[e*2+1]=8,e++,r[8]++;for(_a(ne,qe+1,r),e=0;e<De;e++)je[e*2+1]=5,je[e*2]=ha(e,5);sa=new Wt(ne,pn,ot+1,qe,be),fa=new Wt(je,St,0,De,be),ca=new Wt(new Array(0),Rr,0,Dn,Tr)},ua=e=>{let n;for(n=0;n<qe;n++)e.dyn_ltree[n*2]=0;for(n=0;n<De;n++)e.dyn_dtree[n*2]=0;for(n=0;n<Dn;n++)e.bl_tree[n*2]=0;e.dyn_ltree[On*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},pa=e=>{e.bi_valid>8?et(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},jn=(e,n,t,i)=>{const a=n*2,r=t*2;return e[a]<e[r]||e[a]===e[r]&&i[n]<=i[t]},Jt=(e,n,t)=>{const i=e.heap[t];let a=t<<1;for(;a<=e.heap_len&&(a<e.heap_len&&jn(n,e.heap[a+1],e.heap[a],e.depth)&&a++,!jn(n,i,e.heap[a],e.depth));)e.heap[t]=e.heap[a],t=a,a<<=1;e.heap[t]=i},Gn=(e,n,t)=>{let i,a,r=0,s,o;if(e.sym_next!==0)do i=e.pending_buf[e.sym_buf+r++]&255,i+=(e.pending_buf[e.sym_buf+r++]&255)<<8,a=e.pending_buf[e.sym_buf+r++],i===0?Y(e,a,n):(s=Qe[a],Y(e,s+ot+1,n),o=pn[s],o!==0&&(a-=Ln[s],P(e,a,o)),i--,s=da(i),Y(e,s,t),o=St[s],o!==0&&(i-=Ot[s],P(e,i,o)));while(r<e.sym_next);Y(e,On,n)},gn=(e,n)=>{const t=n.dyn_tree,i=n.stat_desc.static_tree,a=n.stat_desc.has_stree,r=n.stat_desc.elems;let s,o,h=-1,l;for(e.heap_len=0,e.heap_max=ia,s=0;s<r;s++)t[s*2]!==0?(e.heap[++e.heap_len]=h=s,e.depth[s]=0):t[s*2+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=h<2?++h:0,t[l*2]=1,e.depth[l]=0,e.opt_len--,a&&(e.static_len-=i[l*2+1]);for(n.max_code=h,s=e.heap_len>>1;s>=1;s--)Jt(e,t,s);l=r;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Jt(e,t,1),o=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=o,t[l*2]=t[s*2]+t[o*2],e.depth[l]=(e.depth[s]>=e.depth[o]?e.depth[s]:e.depth[o])+1,t[s*2+1]=t[o*2+1]=l,e.heap[1]=l++,Jt(e,t,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],Or(e,n),_a(t,h,e.bl_count)},Vn=(e,n,t)=>{let i,a=-1,r,s=n[0*2+1],o=0,h=7,l=4;for(s===0&&(h=138,l=3),n[(t+1)*2+1]=65535,i=0;i<=t;i++)r=s,s=n[(i+1)*2+1],!(++o<h&&r===s)&&(o<l?e.bl_tree[r*2]+=o:r!==0?(r!==a&&e.bl_tree[r*2]++,e.bl_tree[aa*2]++):o<=10?e.bl_tree[ra*2]++:e.bl_tree[oa*2]++,o=0,a=r,s===0?(h=138,l=3):r===s?(h=6,l=3):(h=7,l=4))},Xn=(e,n,t)=>{let i,a=-1,r,s=n[0*2+1],o=0,h=7,l=4;for(s===0&&(h=138,l=3),i=0;i<=t;i++)if(r=s,s=n[(i+1)*2+1],!(++o<h&&r===s)){if(o<l)do Y(e,r,e.bl_tree);while(--o!==0);else r!==0?(r!==a&&(Y(e,r,e.bl_tree),o--),Y(e,aa,e.bl_tree),P(e,o-3,2)):o<=10?(Y(e,ra,e.bl_tree),P(e,o-3,3)):(Y(e,oa,e.bl_tree),P(e,o-11,7));o=0,a=r,s===0?(h=138,l=3):r===s?(h=6,l=3):(h=7,l=4)}},Ir=e=>{let n;for(Vn(e,e.dyn_ltree,e.l_desc.max_code),Vn(e,e.dyn_dtree,e.d_desc.max_code),gn(e,e.bl_desc),n=Dn-1;n>=3&&e.bl_tree[la[n]*2+1]===0;n--);return e.opt_len+=3*(n+1)+5+5+4,n},$r=(e,n,t,i)=>{let a;for(P(e,n-257,5),P(e,t-1,5),P(e,i-4,4),a=0;a<i;a++)P(e,e.bl_tree[la[a]*2+1],3);Xn(e,e.dyn_ltree,n-1),Xn(e,e.dyn_dtree,t-1)},Mr=e=>{let n=4093624447,t;for(t=0;t<=31;t++,n>>>=1)if(n&1&&e.dyn_ltree[t*2]!==0)return Bn;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return Kn;for(t=32;t<ot;t++)if(e.dyn_ltree[t*2]!==0)return Kn;return Bn};let Yn=!1;const Nr=e=>{Yn||(Lr(),Yn=!0),e.l_desc=new qt(e.dyn_ltree,sa),e.d_desc=new qt(e.dyn_dtree,fa),e.bl_desc=new qt(e.bl_tree,ca),e.bi_buf=0,e.bi_valid=0,ua(e)},ga=(e,n,t,i)=>{P(e,(Er<<1)+(i?1:0),3),pa(e),et(e,t),et(e,~t),t&&e.pending_buf.set(e.window.subarray(n,n+t),e.pending),e.pending+=t},Zr=e=>{P(e,na<<1,3),Y(e,On,ne),Dr(e)},Ur=(e,n,t,i)=>{let a,r,s=0;e.level>0?(e.strm.data_type===vr&&(e.strm.data_type=Mr(e)),gn(e,e.l_desc),gn(e,e.d_desc),s=Ir(e),a=e.opt_len+3+7>>>3,r=e.static_len+3+7>>>3,r<=a&&(a=r)):a=r=t+5,t+4<=a&&n!==-1?ga(e,n,t,i):e.strategy===xr||r===a?(P(e,(na<<1)+(i?1:0),3),Gn(e,ne,je)):(P(e,(kr<<1)+(i?1:0),3),$r(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),Gn(e,e.dyn_ltree,e.dyn_dtree)),ua(e),i&&pa(e)},Cr=(e,n,t)=>(e.pending_buf[e.sym_buf+e.sym_next++]=n,e.pending_buf[e.sym_buf+e.sym_next++]=n>>8,e.pending_buf[e.sym_buf+e.sym_next++]=t,n===0?e.dyn_ltree[t*2]++:(e.matches++,n--,e.dyn_ltree[(Qe[t]+ot+1)*2]++,e.dyn_dtree[da(n)*2]++),e.sym_next===e.sym_end);var Fr=Nr,Pr=ga,Hr=Ur,Br=Cr,Kr=Zr,jr={_tr_init:Fr,_tr_stored_block:Pr,_tr_flush_block:Hr,_tr_tally:Br,_tr_align:Kr};const Gr=(e,n,t,i)=>{let a=e&65535|0,r=e>>>16&65535|0,s=0;for(;t!==0;){s=t>2e3?2e3:t,t-=s;do a=a+n[i++]|0,r=r+a|0;while(--s);a%=65521,r%=65521}return a|r<<16|0};var tt=Gr;const Vr=()=>{let e,n=[];for(var t=0;t<256;t++){e=t;for(var i=0;i<8;i++)e=e&1?3988292384^e>>>1:e>>>1;n[t]=e}return n},Xr=new Uint32Array(Vr()),Yr=(e,n,t,i)=>{const a=Xr,r=i+t;e^=-1;for(let s=i;s<r;s++)e=e>>>8^a[(e^n[s])&255];return e^-1};var M=Yr,xe={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ue={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Wr,_tr_stored_block:wn,_tr_flush_block:qr,_tr_tally:ce,_tr_align:Jr}=jr,{Z_NO_FLUSH:de,Z_PARTIAL_FLUSH:Qr,Z_FULL_FLUSH:eo,Z_FINISH:j,Z_BLOCK:Wn,Z_OK:Z,Z_STREAM_END:qn,Z_STREAM_ERROR:q,Z_DATA_ERROR:to,Z_BUF_ERROR:Qt,Z_DEFAULT_COMPRESSION:no,Z_FILTERED:io,Z_HUFFMAN_ONLY:gt,Z_RLE:ao,Z_FIXED:ro,Z_DEFAULT_STRATEGY:oo,Z_UNKNOWN:lo,Z_DEFLATED:Zt}=Ue,so=9,fo=15,co=8,ho=29,_o=256,bn=_o+1+ho,uo=30,po=19,go=2*bn+1,wo=15,R=3,oe=258,J=oe+R+1,bo=32,Oe=42,In=57,yn=69,mn=73,xn=91,vn=103,ye=113,He=666,C=1,Ce=2,ve=3,Fe=4,yo=3,me=(e,n)=>(e.msg=xe[n],n),Jn=e=>e*2-(e>4?9:0),re=e=>{let n=e.length;for(;--n>=0;)e[n]=0},mo=e=>{let n,t,i,a=e.w_size;n=e.hash_size,i=n;do t=e.head[--i],e.head[i]=t>=a?t-a:0;while(--n);n=a,i=n;do t=e.prev[--i],e.prev[i]=t>=a?t-a:0;while(--n)};let xo=(e,n,t)=>(n<<e.hash_shift^t)&e.hash_mask,he=xo;const H=e=>{const n=e.state;let t=n.pending;t>e.avail_out&&(t=e.avail_out),t!==0&&(e.output.set(n.pending_buf.subarray(n.pending_out,n.pending_out+t),e.next_out),e.next_out+=t,n.pending_out+=t,e.total_out+=t,e.avail_out-=t,n.pending-=t,n.pending===0&&(n.pending_out=0))},B=(e,n)=>{qr(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,n),e.block_start=e.strstart,H(e.strm)},D=(e,n)=>{e.pending_buf[e.pending++]=n},Pe=(e,n)=>{e.pending_buf[e.pending++]=n>>>8&255,e.pending_buf[e.pending++]=n&255},En=(e,n,t,i)=>{let a=e.avail_in;return a>i&&(a=i),a===0?0:(e.avail_in-=a,n.set(e.input.subarray(e.next_in,e.next_in+a),t),e.state.wrap===1?e.adler=tt(e.adler,n,a,t):e.state.wrap===2&&(e.adler=M(e.adler,n,a,t)),e.next_in+=a,e.total_in+=a,a)},wa=(e,n)=>{let t=e.max_chain_length,i=e.strstart,a,r,s=e.prev_length,o=e.nice_match;const h=e.strstart>e.w_size-J?e.strstart-(e.w_size-J):0,l=e.window,f=e.w_mask,u=e.prev,c=e.strstart+oe;let d=l[i+s-1],_=l[i+s];e.prev_length>=e.good_match&&(t>>=2),o>e.lookahead&&(o=e.lookahead);do if(a=n,!(l[a+s]!==_||l[a+s-1]!==d||l[a]!==l[i]||l[++a]!==l[i+1])){i+=2,a++;do;while(l[++i]===l[++a]&&l[++i]===l[++a]&&l[++i]===l[++a]&&l[++i]===l[++a]&&l[++i]===l[++a]&&l[++i]===l[++a]&&l[++i]===l[++a]&&l[++i]===l[++a]&&i<c);if(r=oe-(c-i),i=c-oe,r>s){if(e.match_start=n,s=r,r>=o)break;d=l[i+s-1],_=l[i+s]}}while((n=u[n&f])>h&&--t!==0);return s<=e.lookahead?s:e.lookahead},Le=e=>{const n=e.w_size;let t,i,a;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=n+(n-J)&&(e.window.set(e.window.subarray(n,n+n-i),0),e.match_start-=n,e.strstart-=n,e.block_start-=n,e.insert>e.strstart&&(e.insert=e.strstart),mo(e),i+=n),e.strm.avail_in===0)break;if(t=En(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=t,e.lookahead+e.insert>=R)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=he(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=he(e,e.ins_h,e.window[a+R-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<R)););}while(e.lookahead<J&&e.strm.avail_in!==0)},ba=(e,n)=>{let t=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,i,a,r,s=0,o=e.strm.avail_in;do{if(i=65535,r=e.bi_valid+42>>3,e.strm.avail_out<r||(r=e.strm.avail_out-r,a=e.strstart-e.block_start,i>a+e.strm.avail_in&&(i=a+e.strm.avail_in),i>r&&(i=r),i<t&&(i===0&&n!==j||n===de||i!==a+e.strm.avail_in)))break;s=n===j&&i===a+e.strm.avail_in?1:0,wn(e,0,0,s),e.pending_buf[e.pending-4]=i,e.pending_buf[e.pending-3]=i>>8,e.pending_buf[e.pending-2]=~i,e.pending_buf[e.pending-1]=~i>>8,H(e.strm),a&&(a>i&&(a=i),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+a),e.strm.next_out),e.strm.next_out+=a,e.strm.avail_out-=a,e.strm.total_out+=a,e.block_start+=a,i-=a),i&&(En(e.strm,e.strm.output,e.strm.next_out,i),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i)}while(s===0);return o-=e.strm.avail_in,o&&(o>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=o&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-o,e.strm.next_in),e.strstart),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s?Fe:n!==de&&n!==j&&e.strm.avail_in===0&&e.strstart===e.block_start?Ce:(r=e.window_size-e.strstart,e.strm.avail_in>r&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,r+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),r>e.strm.avail_in&&(r=e.strm.avail_in),r&&(En(e.strm,e.window,e.strstart,r),e.strstart+=r,e.insert+=r>e.w_size-e.insert?e.w_size-e.insert:r),e.high_water<e.strstart&&(e.high_water=e.strstart),r=e.bi_valid+42>>3,r=e.pending_buf_size-r>65535?65535:e.pending_buf_size-r,t=r>e.w_size?e.w_size:r,a=e.strstart-e.block_start,(a>=t||(a||n===j)&&n!==de&&e.strm.avail_in===0&&a<=r)&&(i=a>r?r:a,s=n===j&&e.strm.avail_in===0&&i===a?1:0,wn(e,e.block_start,i,s),e.block_start+=i,H(e.strm)),s?ve:C)},en=(e,n)=>{let t,i;for(;;){if(e.lookahead<J){if(Le(e),e.lookahead<J&&n===de)return C;if(e.lookahead===0)break}if(t=0,e.lookahead>=R&&(e.ins_h=he(e,e.ins_h,e.window[e.strstart+R-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),t!==0&&e.strstart-t<=e.w_size-J&&(e.match_length=wa(e,t)),e.match_length>=R)if(i=ce(e,e.strstart-e.match_start,e.match_length-R),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=R){e.match_length--;do e.strstart++,e.ins_h=he(e,e.ins_h,e.window[e.strstart+R-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=he(e,e.ins_h,e.window[e.strstart+1]);else i=ce(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(B(e,!1),e.strm.avail_out===0))return C}return e.insert=e.strstart<R-1?e.strstart:R-1,n===j?(B(e,!0),e.strm.avail_out===0?ve:Fe):e.sym_next&&(B(e,!1),e.strm.avail_out===0)?C:Ce},Te=(e,n)=>{let t,i,a;for(;;){if(e.lookahead<J){if(Le(e),e.lookahead<J&&n===de)return C;if(e.lookahead===0)break}if(t=0,e.lookahead>=R&&(e.ins_h=he(e,e.ins_h,e.window[e.strstart+R-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=R-1,t!==0&&e.prev_length<e.max_lazy_match&&e.strstart-t<=e.w_size-J&&(e.match_length=wa(e,t),e.match_length<=5&&(e.strategy===io||e.match_length===R&&e.strstart-e.match_start>4096)&&(e.match_length=R-1)),e.prev_length>=R&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-R,i=ce(e,e.strstart-1-e.prev_match,e.prev_length-R),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=a&&(e.ins_h=he(e,e.ins_h,e.window[e.strstart+R-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=R-1,e.strstart++,i&&(B(e,!1),e.strm.avail_out===0))return C}else if(e.match_available){if(i=ce(e,0,e.window[e.strstart-1]),i&&B(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return C}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=ce(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<R-1?e.strstart:R-1,n===j?(B(e,!0),e.strm.avail_out===0?ve:Fe):e.sym_next&&(B(e,!1),e.strm.avail_out===0)?C:Ce},vo=(e,n)=>{let t,i,a,r;const s=e.window;for(;;){if(e.lookahead<=oe){if(Le(e),e.lookahead<=oe&&n===de)return C;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=R&&e.strstart>0&&(a=e.strstart-1,i=s[a],i===s[++a]&&i===s[++a]&&i===s[++a])){r=e.strstart+oe;do;while(i===s[++a]&&i===s[++a]&&i===s[++a]&&i===s[++a]&&i===s[++a]&&i===s[++a]&&i===s[++a]&&i===s[++a]&&a<r);e.match_length=oe-(r-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=R?(t=ce(e,1,e.match_length-R),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(t=ce(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),t&&(B(e,!1),e.strm.avail_out===0))return C}return e.insert=0,n===j?(B(e,!0),e.strm.avail_out===0?ve:Fe):e.sym_next&&(B(e,!1),e.strm.avail_out===0)?C:Ce},Eo=(e,n)=>{let t;for(;;){if(e.lookahead===0&&(Le(e),e.lookahead===0)){if(n===de)return C;break}if(e.match_length=0,t=ce(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,t&&(B(e,!1),e.strm.avail_out===0))return C}return e.insert=0,n===j?(B(e,!0),e.strm.avail_out===0?ve:Fe):e.sym_next&&(B(e,!1),e.strm.avail_out===0)?C:Ce};function V(e,n,t,i,a){this.good_length=e,this.max_lazy=n,this.nice_length=t,this.max_chain=i,this.func=a}const Be=[new V(0,0,0,0,ba),new V(4,4,8,4,en),new V(4,5,16,8,en),new V(4,6,32,32,en),new V(4,4,16,16,Te),new V(8,16,32,32,Te),new V(8,16,128,128,Te),new V(8,32,128,256,Te),new V(32,128,258,1024,Te),new V(32,258,258,4096,Te)],ko=e=>{e.window_size=2*e.w_size,re(e.head),e.max_lazy_match=Be[e.level].max_lazy,e.good_match=Be[e.level].good_length,e.nice_match=Be[e.level].nice_length,e.max_chain_length=Be[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=R-1,e.match_available=0,e.ins_h=0};function Ao(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Zt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(go*2),this.dyn_dtree=new Uint16Array((2*uo+1)*2),this.bl_tree=new Uint16Array((2*po+1)*2),re(this.dyn_ltree),re(this.dyn_dtree),re(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(wo+1),this.heap=new Uint16Array(2*bn+1),re(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*bn+1),re(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const lt=e=>{if(!e)return 1;const n=e.state;return!n||n.strm!==e||n.status!==Oe&&n.status!==In&&n.status!==yn&&n.status!==mn&&n.status!==xn&&n.status!==vn&&n.status!==ye&&n.status!==He?1:0},ya=e=>{if(lt(e))return me(e,q);e.total_in=e.total_out=0,e.data_type=lo;const n=e.state;return n.pending=0,n.pending_out=0,n.wrap<0&&(n.wrap=-n.wrap),n.status=n.wrap===2?In:n.wrap?Oe:ye,e.adler=n.wrap===2?0:1,n.last_flush=-2,Wr(n),Z},ma=e=>{const n=ya(e);return n===Z&&ko(e.state),n},So=(e,n)=>lt(e)||e.state.wrap!==2?q:(e.state.gzhead=n,Z),xa=(e,n,t,i,a,r)=>{if(!e)return q;let s=1;if(n===no&&(n=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),a<1||a>so||t!==Zt||i<8||i>15||n<0||n>9||r<0||r>ro||i===8&&s!==1)return me(e,q);i===8&&(i=9);const o=new Ao;return e.state=o,o.strm=e,o.status=Oe,o.wrap=s,o.gzhead=null,o.w_bits=i,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=a+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+R-1)/R),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<a+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=(o.lit_bufsize-1)*3,o.level=n,o.strategy=r,o.method=t,ma(e)},To=(e,n)=>xa(e,n,Zt,fo,co,oo),Ro=(e,n)=>{if(lt(e)||n>Wn||n<0)return e?me(e,q):q;const t=e.state;if(!e.output||e.avail_in!==0&&!e.input||t.status===He&&n!==j)return me(e,e.avail_out===0?Qt:q);const i=t.last_flush;if(t.last_flush=n,t.pending!==0){if(H(e),e.avail_out===0)return t.last_flush=-1,Z}else if(e.avail_in===0&&Jn(n)<=Jn(i)&&n!==j)return me(e,Qt);if(t.status===He&&e.avail_in!==0)return me(e,Qt);if(t.status===Oe&&t.wrap===0&&(t.status=ye),t.status===Oe){let a=Zt+(t.w_bits-8<<4)<<8,r=-1;if(t.strategy>=gt||t.level<2?r=0:t.level<6?r=1:t.level===6?r=2:r=3,a|=r<<6,t.strstart!==0&&(a|=bo),a+=31-a%31,Pe(t,a),t.strstart!==0&&(Pe(t,e.adler>>>16),Pe(t,e.adler&65535)),e.adler=1,t.status=ye,H(e),t.pending!==0)return t.last_flush=-1,Z}if(t.status===In){if(e.adler=0,D(t,31),D(t,139),D(t,8),t.gzhead)D(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),D(t,t.gzhead.time&255),D(t,t.gzhead.time>>8&255),D(t,t.gzhead.time>>16&255),D(t,t.gzhead.time>>24&255),D(t,t.level===9?2:t.strategy>=gt||t.level<2?4:0),D(t,t.gzhead.os&255),t.gzhead.extra&&t.gzhead.extra.length&&(D(t,t.gzhead.extra.length&255),D(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(e.adler=M(e.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=yn;else if(D(t,0),D(t,0),D(t,0),D(t,0),D(t,0),D(t,t.level===9?2:t.strategy>=gt||t.level<2?4:0),D(t,yo),t.status=ye,H(e),t.pending!==0)return t.last_flush=-1,Z}if(t.status===yn){if(t.gzhead.extra){let a=t.pending,r=(t.gzhead.extra.length&65535)-t.gzindex;for(;t.pending+r>t.pending_buf_size;){let o=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+o),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>a&&(e.adler=M(e.adler,t.pending_buf,t.pending-a,a)),t.gzindex+=o,H(e),t.pending!==0)return t.last_flush=-1,Z;a=0,r-=o}let s=new Uint8Array(t.gzhead.extra);t.pending_buf.set(s.subarray(t.gzindex,t.gzindex+r),t.pending),t.pending+=r,t.gzhead.hcrc&&t.pending>a&&(e.adler=M(e.adler,t.pending_buf,t.pending-a,a)),t.gzindex=0}t.status=mn}if(t.status===mn){if(t.gzhead.name){let a=t.pending,r;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>a&&(e.adler=M(e.adler,t.pending_buf,t.pending-a,a)),H(e),t.pending!==0)return t.last_flush=-1,Z;a=0}t.gzindex<t.gzhead.name.length?r=t.gzhead.name.charCodeAt(t.gzindex++)&255:r=0,D(t,r)}while(r!==0);t.gzhead.hcrc&&t.pending>a&&(e.adler=M(e.adler,t.pending_buf,t.pending-a,a)),t.gzindex=0}t.status=xn}if(t.status===xn){if(t.gzhead.comment){let a=t.pending,r;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>a&&(e.adler=M(e.adler,t.pending_buf,t.pending-a,a)),H(e),t.pending!==0)return t.last_flush=-1,Z;a=0}t.gzindex<t.gzhead.comment.length?r=t.gzhead.comment.charCodeAt(t.gzindex++)&255:r=0,D(t,r)}while(r!==0);t.gzhead.hcrc&&t.pending>a&&(e.adler=M(e.adler,t.pending_buf,t.pending-a,a))}t.status=vn}if(t.status===vn){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(H(e),t.pending!==0))return t.last_flush=-1,Z;D(t,e.adler&255),D(t,e.adler>>8&255),e.adler=0}if(t.status=ye,H(e),t.pending!==0)return t.last_flush=-1,Z}if(e.avail_in!==0||t.lookahead!==0||n!==de&&t.status!==He){let a=t.level===0?ba(t,n):t.strategy===gt?Eo(t,n):t.strategy===ao?vo(t,n):Be[t.level].func(t,n);if((a===ve||a===Fe)&&(t.status=He),a===C||a===ve)return e.avail_out===0&&(t.last_flush=-1),Z;if(a===Ce&&(n===Qr?Jr(t):n!==Wn&&(wn(t,0,0,!1),n===eo&&(re(t.head),t.lookahead===0&&(t.strstart=0,t.block_start=0,t.insert=0))),H(e),e.avail_out===0))return t.last_flush=-1,Z}return n!==j?Z:t.wrap<=0?qn:(t.wrap===2?(D(t,e.adler&255),D(t,e.adler>>8&255),D(t,e.adler>>16&255),D(t,e.adler>>24&255),D(t,e.total_in&255),D(t,e.total_in>>8&255),D(t,e.total_in>>16&255),D(t,e.total_in>>24&255)):(Pe(t,e.adler>>>16),Pe(t,e.adler&65535)),H(e),t.wrap>0&&(t.wrap=-t.wrap),t.pending!==0?Z:qn)},zo=e=>{if(lt(e))return q;const n=e.state.status;return e.state=null,n===ye?me(e,to):Z},Do=(e,n)=>{let t=n.length;if(lt(e))return q;const i=e.state,a=i.wrap;if(a===2||a===1&&i.status!==Oe||i.lookahead)return q;if(a===1&&(e.adler=tt(e.adler,n,t,0)),i.wrap=0,t>=i.w_size){a===0&&(re(i.head),i.strstart=0,i.block_start=0,i.insert=0);let h=new Uint8Array(i.w_size);h.set(n.subarray(t-i.w_size,t),0),n=h,t=i.w_size}const r=e.avail_in,s=e.next_in,o=e.input;for(e.avail_in=t,e.next_in=0,e.input=n,Le(i);i.lookahead>=R;){let h=i.strstart,l=i.lookahead-(R-1);do i.ins_h=he(i,i.ins_h,i.window[h+R-1]),i.prev[h&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=h,h++;while(--l);i.strstart=h,i.lookahead=R-1,Le(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=R-1,i.match_available=0,e.next_in=s,e.input=o,e.avail_in=r,i.wrap=a,Z};var Oo=To,Lo=xa,Io=ma,$o=ya,Mo=So,No=Ro,Zo=zo,Uo=Do,Co="pako deflate (from Nodeca project)",Ge={deflateInit:Oo,deflateInit2:Lo,deflateReset:Io,deflateResetKeep:$o,deflateSetHeader:Mo,deflate:No,deflateEnd:Zo,deflateSetDictionary:Uo,deflateInfo:Co};const Fo=(e,n)=>Object.prototype.hasOwnProperty.call(e,n);var Po=function(e){const n=Array.prototype.slice.call(arguments,1);for(;n.length;){const t=n.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const i in t)Fo(t,i)&&(e[i]=t[i])}}return e},Ho=e=>{let n=0;for(let i=0,a=e.length;i<a;i++)n+=e[i].length;const t=new Uint8Array(n);for(let i=0,a=0,r=e.length;i<r;i++){let s=e[i];t.set(s,a),a+=s.length}return t},Ut={assign:Po,flattenChunks:Ho};let va=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{va=!1}const nt=new Uint8Array(256);for(let e=0;e<256;e++)nt[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;nt[254]=nt[254]=1;var Bo=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let n,t,i,a,r,s=e.length,o=0;for(a=0;a<s;a++)t=e.charCodeAt(a),(t&64512)===55296&&a+1<s&&(i=e.charCodeAt(a+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),a++)),o+=t<128?1:t<2048?2:t<65536?3:4;for(n=new Uint8Array(o),r=0,a=0;r<o;a++)t=e.charCodeAt(a),(t&64512)===55296&&a+1<s&&(i=e.charCodeAt(a+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),a++)),t<128?n[r++]=t:t<2048?(n[r++]=192|t>>>6,n[r++]=128|t&63):t<65536?(n[r++]=224|t>>>12,n[r++]=128|t>>>6&63,n[r++]=128|t&63):(n[r++]=240|t>>>18,n[r++]=128|t>>>12&63,n[r++]=128|t>>>6&63,n[r++]=128|t&63);return n};const Ko=(e,n)=>{if(n<65534&&e.subarray&&va)return String.fromCharCode.apply(null,e.length===n?e:e.subarray(0,n));let t="";for(let i=0;i<n;i++)t+=String.fromCharCode(e[i]);return t};var jo=(e,n)=>{const t=n||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,n));let i,a;const r=new Array(t*2);for(a=0,i=0;i<t;){let s=e[i++];if(s<128){r[a++]=s;continue}let o=nt[s];if(o>4){r[a++]=65533,i+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&i<t;)s=s<<6|e[i++]&63,o--;if(o>1){r[a++]=65533;continue}s<65536?r[a++]=s:(s-=65536,r[a++]=55296|s>>10&1023,r[a++]=56320|s&1023)}return Ko(r,a)},Go=(e,n)=>{n=n||e.length,n>e.length&&(n=e.length);let t=n-1;for(;t>=0&&(e[t]&192)===128;)t--;return t<0||t===0?n:t+nt[e[t]]>n?t:n},it={string2buf:Bo,buf2string:jo,utf8border:Go};function Vo(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Ea=Vo;const ka=Object.prototype.toString,{Z_NO_FLUSH:Xo,Z_SYNC_FLUSH:Yo,Z_FULL_FLUSH:Wo,Z_FINISH:qo,Z_OK:Lt,Z_STREAM_END:Jo,Z_DEFAULT_COMPRESSION:Qo,Z_DEFAULT_STRATEGY:el,Z_DEFLATED:tl}=Ue;function st(e){this.options=Ut.assign({level:Qo,method:tl,chunkSize:16384,windowBits:15,memLevel:8,strategy:el},e||{});let n=this.options;n.raw&&n.windowBits>0?n.windowBits=-n.windowBits:n.gzip&&n.windowBits>0&&n.windowBits<16&&(n.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ea,this.strm.avail_out=0;let t=Ge.deflateInit2(this.strm,n.level,n.method,n.windowBits,n.memLevel,n.strategy);if(t!==Lt)throw new Error(xe[t]);if(n.header&&Ge.deflateSetHeader(this.strm,n.header),n.dictionary){let i;if(typeof n.dictionary=="string"?i=it.string2buf(n.dictionary):ka.call(n.dictionary)==="[object ArrayBuffer]"?i=new Uint8Array(n.dictionary):i=n.dictionary,t=Ge.deflateSetDictionary(this.strm,i),t!==Lt)throw new Error(xe[t]);this._dict_set=!0}}st.prototype.push=function(e,n){const t=this.strm,i=this.options.chunkSize;let a,r;if(this.ended)return!1;for(n===~~n?r=n:r=n===!0?qo:Xo,typeof e=="string"?t.input=it.string2buf(e):ka.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){if(t.avail_out===0&&(t.output=new Uint8Array(i),t.next_out=0,t.avail_out=i),(r===Yo||r===Wo)&&t.avail_out<=6){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(a=Ge.deflate(t,r),a===Jo)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),a=Ge.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===Lt;if(t.avail_out===0){this.onData(t.output);continue}if(r>0&&t.next_out>0){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(t.avail_in===0)break}return!0};st.prototype.onData=function(e){this.chunks.push(e)};st.prototype.onEnd=function(e){e===Lt&&(this.result=Ut.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function $n(e,n){const t=new st(n);if(t.push(e,!0),t.err)throw t.msg||xe[t.err];return t.result}function nl(e,n){return n=n||{},n.raw=!0,$n(e,n)}function il(e,n){return n=n||{},n.gzip=!0,$n(e,n)}var al=st,rl=$n,ol=nl,ll=il,sl=Ue,fl={Deflate:al,deflate:rl,deflateRaw:ol,gzip:ll,constants:sl};const wt=16209,cl=16191;var dl=function(n,t){let i,a,r,s,o,h,l,f,u,c,d,_,g,x,w,E,m,p,k,O,b,T,S,y;const v=n.state;i=n.next_in,S=n.input,a=i+(n.avail_in-5),r=n.next_out,y=n.output,s=r-(t-n.avail_out),o=r+(n.avail_out-257),h=v.dmax,l=v.wsize,f=v.whave,u=v.wnext,c=v.window,d=v.hold,_=v.bits,g=v.lencode,x=v.distcode,w=(1<<v.lenbits)-1,E=(1<<v.distbits)-1;e:do{_<15&&(d+=S[i++]<<_,_+=8,d+=S[i++]<<_,_+=8),m=g[d&w];t:for(;;){if(p=m>>>24,d>>>=p,_-=p,p=m>>>16&255,p===0)y[r++]=m&65535;else if(p&16){k=m&65535,p&=15,p&&(_<p&&(d+=S[i++]<<_,_+=8),k+=d&(1<<p)-1,d>>>=p,_-=p),_<15&&(d+=S[i++]<<_,_+=8,d+=S[i++]<<_,_+=8),m=x[d&E];n:for(;;){if(p=m>>>24,d>>>=p,_-=p,p=m>>>16&255,p&16){if(O=m&65535,p&=15,_<p&&(d+=S[i++]<<_,_+=8,_<p&&(d+=S[i++]<<_,_+=8)),O+=d&(1<<p)-1,O>h){n.msg="invalid distance too far back",v.mode=wt;break e}if(d>>>=p,_-=p,p=r-s,O>p){if(p=O-p,p>f&&v.sane){n.msg="invalid distance too far back",v.mode=wt;break e}if(b=0,T=c,u===0){if(b+=l-p,p<k){k-=p;do y[r++]=c[b++];while(--p);b=r-O,T=y}}else if(u<p){if(b+=l+u-p,p-=u,p<k){k-=p;do y[r++]=c[b++];while(--p);if(b=0,u<k){p=u,k-=p;do y[r++]=c[b++];while(--p);b=r-O,T=y}}}else if(b+=u-p,p<k){k-=p;do y[r++]=c[b++];while(--p);b=r-O,T=y}for(;k>2;)y[r++]=T[b++],y[r++]=T[b++],y[r++]=T[b++],k-=3;k&&(y[r++]=T[b++],k>1&&(y[r++]=T[b++]))}else{b=r-O;do y[r++]=y[b++],y[r++]=y[b++],y[r++]=y[b++],k-=3;while(k>2);k&&(y[r++]=y[b++],k>1&&(y[r++]=y[b++]))}}else if(p&64){n.msg="invalid distance code",v.mode=wt;break e}else{m=x[(m&65535)+(d&(1<<p)-1)];continue n}break}}else if(p&64)if(p&32){v.mode=cl;break e}else{n.msg="invalid literal/length code",v.mode=wt;break e}else{m=g[(m&65535)+(d&(1<<p)-1)];continue t}break}}while(i<a&&r<o);k=_>>3,i-=k,_-=k<<3,d&=(1<<_)-1,n.next_in=i,n.next_out=r,n.avail_in=i<a?5+(a-i):5-(i-a),n.avail_out=r<o?257+(o-r):257-(r-o),v.hold=d,v.bits=_};const Re=15,Qn=852,ei=592,ti=0,tn=1,ni=2,hl=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),_l=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ul=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),pl=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),gl=(e,n,t,i,a,r,s,o)=>{const h=o.bits;let l=0,f=0,u=0,c=0,d=0,_=0,g=0,x=0,w=0,E=0,m,p,k,O,b,T=null,S;const y=new Uint16Array(Re+1),v=new Uint16Array(Re+1);let $=null,A,z,K;for(l=0;l<=Re;l++)y[l]=0;for(f=0;f<i;f++)y[n[t+f]]++;for(d=h,c=Re;c>=1&&y[c]===0;c--);if(d>c&&(d=c),c===0)return a[r++]=1<<24|64<<16|0,a[r++]=1<<24|64<<16|0,o.bits=1,0;for(u=1;u<c&&y[u]===0;u++);for(d<u&&(d=u),x=1,l=1;l<=Re;l++)if(x<<=1,x-=y[l],x<0)return-1;if(x>0&&(e===ti||c!==1))return-1;for(v[1]=0,l=1;l<Re;l++)v[l+1]=v[l]+y[l];for(f=0;f<i;f++)n[t+f]!==0&&(s[v[n[t+f]]++]=f);if(e===ti?(T=$=s,S=20):e===tn?(T=hl,$=_l,S=257):(T=ul,$=pl,S=0),E=0,f=0,l=u,b=r,_=d,g=0,k=-1,w=1<<d,O=w-1,e===tn&&w>Qn||e===ni&&w>ei)return 1;for(;;){A=l-g,s[f]+1<S?(z=0,K=s[f]):s[f]>=S?(z=$[s[f]-S],K=T[s[f]-S]):(z=32+64,K=0),m=1<<l-g,p=1<<_,u=p;do p-=m,a[b+(E>>g)+p]=A<<24|z<<16|K|0;while(p!==0);for(m=1<<l-1;E&m;)m>>=1;if(m!==0?(E&=m-1,E+=m):E=0,f++,--y[l]===0){if(l===c)break;l=n[t+s[f]]}if(l>d&&(E&O)!==k){for(g===0&&(g=d),b+=u,_=l-g,x=1<<_;_+g<c&&(x-=y[_+g],!(x<=0));)_++,x<<=1;if(w+=1<<_,e===tn&&w>Qn||e===ni&&w>ei)return 1;k=E&O,a[k]=d<<24|_<<16|b-r|0}}return E!==0&&(a[b+E]=l-g<<24|64<<16|0),o.bits=d,0};var Ve=gl;const wl=0,Aa=1,Sa=2,{Z_FINISH:ii,Z_BLOCK:bl,Z_TREES:bt,Z_OK:Ee,Z_STREAM_END:yl,Z_NEED_DICT:ml,Z_STREAM_ERROR:G,Z_DATA_ERROR:Ta,Z_MEM_ERROR:Ra,Z_BUF_ERROR:xl,Z_DEFLATED:ai}=Ue,Ct=16180,ri=16181,oi=16182,li=16183,si=16184,fi=16185,ci=16186,di=16187,hi=16188,_i=16189,It=16190,ee=16191,nn=16192,ui=16193,an=16194,pi=16195,gi=16196,wi=16197,bi=16198,yt=16199,mt=16200,yi=16201,mi=16202,xi=16203,vi=16204,Ei=16205,rn=16206,ki=16207,Ai=16208,L=16209,za=16210,Da=16211,vl=852,El=592,kl=15,Al=kl,Si=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function Sl(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ke=e=>{if(!e)return 1;const n=e.state;return!n||n.strm!==e||n.mode<Ct||n.mode>Da?1:0},Oa=e=>{if(ke(e))return G;const n=e.state;return e.total_in=e.total_out=n.total=0,e.msg="",n.wrap&&(e.adler=n.wrap&1),n.mode=Ct,n.last=0,n.havedict=0,n.flags=-1,n.dmax=32768,n.head=null,n.hold=0,n.bits=0,n.lencode=n.lendyn=new Int32Array(vl),n.distcode=n.distdyn=new Int32Array(El),n.sane=1,n.back=-1,Ee},La=e=>{if(ke(e))return G;const n=e.state;return n.wsize=0,n.whave=0,n.wnext=0,Oa(e)},Ia=(e,n)=>{let t;if(ke(e))return G;const i=e.state;return n<0?(t=0,n=-n):(t=(n>>4)+5,n<48&&(n&=15)),n&&(n<8||n>15)?G:(i.window!==null&&i.wbits!==n&&(i.window=null),i.wrap=t,i.wbits=n,La(e))},$a=(e,n)=>{if(!e)return G;const t=new Sl;e.state=t,t.strm=e,t.window=null,t.mode=Ct;const i=Ia(e,n);return i!==Ee&&(e.state=null),i},Tl=e=>$a(e,Al);let Ti=!0,on,ln;const Rl=e=>{if(Ti){on=new Int32Array(512),ln=new Int32Array(32);let n=0;for(;n<144;)e.lens[n++]=8;for(;n<256;)e.lens[n++]=9;for(;n<280;)e.lens[n++]=7;for(;n<288;)e.lens[n++]=8;for(Ve(Aa,e.lens,0,288,on,0,e.work,{bits:9}),n=0;n<32;)e.lens[n++]=5;Ve(Sa,e.lens,0,32,ln,0,e.work,{bits:5}),Ti=!1}e.lencode=on,e.lenbits=9,e.distcode=ln,e.distbits=5},Ma=(e,n,t,i)=>{let a;const r=e.state;return r.window===null&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new Uint8Array(r.wsize)),i>=r.wsize?(r.window.set(n.subarray(t-r.wsize,t),0),r.wnext=0,r.whave=r.wsize):(a=r.wsize-r.wnext,a>i&&(a=i),r.window.set(n.subarray(t-i,t-i+a),r.wnext),i-=a,i?(r.window.set(n.subarray(t-i,t),0),r.wnext=i,r.whave=r.wsize):(r.wnext+=a,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=a))),0},zl=(e,n)=>{let t,i,a,r,s,o,h,l,f,u,c,d,_,g,x=0,w,E,m,p,k,O,b,T;const S=new Uint8Array(4);let y,v;const $=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ke(e)||!e.output||!e.input&&e.avail_in!==0)return G;t=e.state,t.mode===ee&&(t.mode=nn),s=e.next_out,a=e.output,h=e.avail_out,r=e.next_in,i=e.input,o=e.avail_in,l=t.hold,f=t.bits,u=o,c=h,T=Ee;e:for(;;)switch(t.mode){case Ct:if(t.wrap===0){t.mode=nn;break}for(;f<16;){if(o===0)break e;o--,l+=i[r++]<<f,f+=8}if(t.wrap&2&&l===35615){t.wbits===0&&(t.wbits=15),t.check=0,S[0]=l&255,S[1]=l>>>8&255,t.check=M(t.check,S,2,0),l=0,f=0,t.mode=ri;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((l&255)<<8)+(l>>8))%31){e.msg="incorrect header check",t.mode=L;break}if((l&15)!==ai){e.msg="unknown compression method",t.mode=L;break}if(l>>>=4,f-=4,b=(l&15)+8,t.wbits===0&&(t.wbits=b),b>15||b>t.wbits){e.msg="invalid window size",t.mode=L;break}t.dmax=1<<t.wbits,t.flags=0,e.adler=t.check=1,t.mode=l&512?_i:ee,l=0,f=0;break;case ri:for(;f<16;){if(o===0)break e;o--,l+=i[r++]<<f,f+=8}if(t.flags=l,(t.flags&255)!==ai){e.msg="unknown compression method",t.mode=L;break}if(t.flags&57344){e.msg="unknown header flags set",t.mode=L;break}t.head&&(t.head.text=l>>8&1),t.flags&512&&t.wrap&4&&(S[0]=l&255,S[1]=l>>>8&255,t.check=M(t.check,S,2,0)),l=0,f=0,t.mode=oi;case oi:for(;f<32;){if(o===0)break e;o--,l+=i[r++]<<f,f+=8}t.head&&(t.head.time=l),t.flags&512&&t.wrap&4&&(S[0]=l&255,S[1]=l>>>8&255,S[2]=l>>>16&255,S[3]=l>>>24&255,t.check=M(t.check,S,4,0)),l=0,f=0,t.mode=li;case li:for(;f<16;){if(o===0)break e;o--,l+=i[r++]<<f,f+=8}t.head&&(t.head.xflags=l&255,t.head.os=l>>8),t.flags&512&&t.wrap&4&&(S[0]=l&255,S[1]=l>>>8&255,t.check=M(t.check,S,2,0)),l=0,f=0,t.mode=si;case si:if(t.flags&1024){for(;f<16;){if(o===0)break e;o--,l+=i[r++]<<f,f+=8}t.length=l,t.head&&(t.head.extra_len=l),t.flags&512&&t.wrap&4&&(S[0]=l&255,S[1]=l>>>8&255,t.check=M(t.check,S,2,0)),l=0,f=0}else t.head&&(t.head.extra=null);t.mode=fi;case fi:if(t.flags&1024&&(d=t.length,d>o&&(d=o),d&&(t.head&&(b=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(i.subarray(r,r+d),b)),t.flags&512&&t.wrap&4&&(t.check=M(t.check,i,d,r)),o-=d,r+=d,t.length-=d),t.length))break e;t.length=0,t.mode=ci;case ci:if(t.flags&2048){if(o===0)break e;d=0;do b=i[r+d++],t.head&&b&&t.length<65536&&(t.head.name+=String.fromCharCode(b));while(b&&d<o);if(t.flags&512&&t.wrap&4&&(t.check=M(t.check,i,d,r)),o-=d,r+=d,b)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=di;case di:if(t.flags&4096){if(o===0)break e;d=0;do b=i[r+d++],t.head&&b&&t.length<65536&&(t.head.comment+=String.fromCharCode(b));while(b&&d<o);if(t.flags&512&&t.wrap&4&&(t.check=M(t.check,i,d,r)),o-=d,r+=d,b)break e}else t.head&&(t.head.comment=null);t.mode=hi;case hi:if(t.flags&512){for(;f<16;){if(o===0)break e;o--,l+=i[r++]<<f,f+=8}if(t.wrap&4&&l!==(t.check&65535)){e.msg="header crc mismatch",t.mode=L;break}l=0,f=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),e.adler=t.check=0,t.mode=ee;break;case _i:for(;f<32;){if(o===0)break e;o--,l+=i[r++]<<f,f+=8}e.adler=t.check=Si(l),l=0,f=0,t.mode=It;case It:if(t.havedict===0)return e.next_out=s,e.avail_out=h,e.next_in=r,e.avail_in=o,t.hold=l,t.bits=f,ml;e.adler=t.check=1,t.mode=ee;case ee:if(n===bl||n===bt)break e;case nn:if(t.last){l>>>=f&7,f-=f&7,t.mode=rn;break}for(;f<3;){if(o===0)break e;o--,l+=i[r++]<<f,f+=8}switch(t.last=l&1,l>>>=1,f-=1,l&3){case 0:t.mode=ui;break;case 1:if(Rl(t),t.mode=yt,n===bt){l>>>=2,f-=2;break e}break;case 2:t.mode=gi;break;case 3:e.msg="invalid block type",t.mode=L}l>>>=2,f-=2;break;case ui:for(l>>>=f&7,f-=f&7;f<32;){if(o===0)break e;o--,l+=i[r++]<<f,f+=8}if((l&65535)!==(l>>>16^65535)){e.msg="invalid stored block lengths",t.mode=L;break}if(t.length=l&65535,l=0,f=0,t.mode=an,n===bt)break e;case an:t.mode=pi;case pi:if(d=t.length,d){if(d>o&&(d=o),d>h&&(d=h),d===0)break e;a.set(i.subarray(r,r+d),s),o-=d,r+=d,h-=d,s+=d,t.length-=d;break}t.mode=ee;break;case gi:for(;f<14;){if(o===0)break e;o--,l+=i[r++]<<f,f+=8}if(t.nlen=(l&31)+257,l>>>=5,f-=5,t.ndist=(l&31)+1,l>>>=5,f-=5,t.ncode=(l&15)+4,l>>>=4,f-=4,t.nlen>286||t.ndist>30){e.msg="too many length or distance symbols",t.mode=L;break}t.have=0,t.mode=wi;case wi:for(;t.have<t.ncode;){for(;f<3;){if(o===0)break e;o--,l+=i[r++]<<f,f+=8}t.lens[$[t.have++]]=l&7,l>>>=3,f-=3}for(;t.have<19;)t.lens[$[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,y={bits:t.lenbits},T=Ve(wl,t.lens,0,19,t.lencode,0,t.work,y),t.lenbits=y.bits,T){e.msg="invalid code lengths set",t.mode=L;break}t.have=0,t.mode=bi;case bi:for(;t.have<t.nlen+t.ndist;){for(;x=t.lencode[l&(1<<t.lenbits)-1],w=x>>>24,E=x>>>16&255,m=x&65535,!(w<=f);){if(o===0)break e;o--,l+=i[r++]<<f,f+=8}if(m<16)l>>>=w,f-=w,t.lens[t.have++]=m;else{if(m===16){for(v=w+2;f<v;){if(o===0)break e;o--,l+=i[r++]<<f,f+=8}if(l>>>=w,f-=w,t.have===0){e.msg="invalid bit length repeat",t.mode=L;break}b=t.lens[t.have-1],d=3+(l&3),l>>>=2,f-=2}else if(m===17){for(v=w+3;f<v;){if(o===0)break e;o--,l+=i[r++]<<f,f+=8}l>>>=w,f-=w,b=0,d=3+(l&7),l>>>=3,f-=3}else{for(v=w+7;f<v;){if(o===0)break e;o--,l+=i[r++]<<f,f+=8}l>>>=w,f-=w,b=0,d=11+(l&127),l>>>=7,f-=7}if(t.have+d>t.nlen+t.ndist){e.msg="invalid bit length repeat",t.mode=L;break}for(;d--;)t.lens[t.have++]=b}}if(t.mode===L)break;if(t.lens[256]===0){e.msg="invalid code -- missing end-of-block",t.mode=L;break}if(t.lenbits=9,y={bits:t.lenbits},T=Ve(Aa,t.lens,0,t.nlen,t.lencode,0,t.work,y),t.lenbits=y.bits,T){e.msg="invalid literal/lengths set",t.mode=L;break}if(t.distbits=6,t.distcode=t.distdyn,y={bits:t.distbits},T=Ve(Sa,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,y),t.distbits=y.bits,T){e.msg="invalid distances set",t.mode=L;break}if(t.mode=yt,n===bt)break e;case yt:t.mode=mt;case mt:if(o>=6&&h>=258){e.next_out=s,e.avail_out=h,e.next_in=r,e.avail_in=o,t.hold=l,t.bits=f,dl(e,c),s=e.next_out,a=e.output,h=e.avail_out,r=e.next_in,i=e.input,o=e.avail_in,l=t.hold,f=t.bits,t.mode===ee&&(t.back=-1);break}for(t.back=0;x=t.lencode[l&(1<<t.lenbits)-1],w=x>>>24,E=x>>>16&255,m=x&65535,!(w<=f);){if(o===0)break e;o--,l+=i[r++]<<f,f+=8}if(E&&!(E&240)){for(p=w,k=E,O=m;x=t.lencode[O+((l&(1<<p+k)-1)>>p)],w=x>>>24,E=x>>>16&255,m=x&65535,!(p+w<=f);){if(o===0)break e;o--,l+=i[r++]<<f,f+=8}l>>>=p,f-=p,t.back+=p}if(l>>>=w,f-=w,t.back+=w,t.length=m,E===0){t.mode=Ei;break}if(E&32){t.back=-1,t.mode=ee;break}if(E&64){e.msg="invalid literal/length code",t.mode=L;break}t.extra=E&15,t.mode=yi;case yi:if(t.extra){for(v=t.extra;f<v;){if(o===0)break e;o--,l+=i[r++]<<f,f+=8}t.length+=l&(1<<t.extra)-1,l>>>=t.extra,f-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=mi;case mi:for(;x=t.distcode[l&(1<<t.distbits)-1],w=x>>>24,E=x>>>16&255,m=x&65535,!(w<=f);){if(o===0)break e;o--,l+=i[r++]<<f,f+=8}if(!(E&240)){for(p=w,k=E,O=m;x=t.distcode[O+((l&(1<<p+k)-1)>>p)],w=x>>>24,E=x>>>16&255,m=x&65535,!(p+w<=f);){if(o===0)break e;o--,l+=i[r++]<<f,f+=8}l>>>=p,f-=p,t.back+=p}if(l>>>=w,f-=w,t.back+=w,E&64){e.msg="invalid distance code",t.mode=L;break}t.offset=m,t.extra=E&15,t.mode=xi;case xi:if(t.extra){for(v=t.extra;f<v;){if(o===0)break e;o--,l+=i[r++]<<f,f+=8}t.offset+=l&(1<<t.extra)-1,l>>>=t.extra,f-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){e.msg="invalid distance too far back",t.mode=L;break}t.mode=vi;case vi:if(h===0)break e;if(d=c-h,t.offset>d){if(d=t.offset-d,d>t.whave&&t.sane){e.msg="invalid distance too far back",t.mode=L;break}d>t.wnext?(d-=t.wnext,_=t.wsize-d):_=t.wnext-d,d>t.length&&(d=t.length),g=t.window}else g=a,_=s-t.offset,d=t.length;d>h&&(d=h),h-=d,t.length-=d;do a[s++]=g[_++];while(--d);t.length===0&&(t.mode=mt);break;case Ei:if(h===0)break e;a[s++]=t.length,h--,t.mode=mt;break;case rn:if(t.wrap){for(;f<32;){if(o===0)break e;o--,l|=i[r++]<<f,f+=8}if(c-=h,e.total_out+=c,t.total+=c,t.wrap&4&&c&&(e.adler=t.check=t.flags?M(t.check,a,c,s-c):tt(t.check,a,c,s-c)),c=h,t.wrap&4&&(t.flags?l:Si(l))!==t.check){e.msg="incorrect data check",t.mode=L;break}l=0,f=0}t.mode=ki;case ki:if(t.wrap&&t.flags){for(;f<32;){if(o===0)break e;o--,l+=i[r++]<<f,f+=8}if(t.wrap&4&&l!==(t.total&4294967295)){e.msg="incorrect length check",t.mode=L;break}l=0,f=0}t.mode=Ai;case Ai:T=yl;break e;case L:T=Ta;break e;case za:return Ra;case Da:default:return G}return e.next_out=s,e.avail_out=h,e.next_in=r,e.avail_in=o,t.hold=l,t.bits=f,(t.wsize||c!==e.avail_out&&t.mode<L&&(t.mode<rn||n!==ii))&&Ma(e,e.output,e.next_out,c-e.avail_out),u-=e.avail_in,c-=e.avail_out,e.total_in+=u,e.total_out+=c,t.total+=c,t.wrap&4&&c&&(e.adler=t.check=t.flags?M(t.check,a,c,e.next_out-c):tt(t.check,a,c,e.next_out-c)),e.data_type=t.bits+(t.last?64:0)+(t.mode===ee?128:0)+(t.mode===yt||t.mode===an?256:0),(u===0&&c===0||n===ii)&&T===Ee&&(T=xl),T},Dl=e=>{if(ke(e))return G;let n=e.state;return n.window&&(n.window=null),e.state=null,Ee},Ol=(e,n)=>{if(ke(e))return G;const t=e.state;return t.wrap&2?(t.head=n,n.done=!1,Ee):G},Ll=(e,n)=>{const t=n.length;let i,a,r;return ke(e)||(i=e.state,i.wrap!==0&&i.mode!==It)?G:i.mode===It&&(a=1,a=tt(a,n,t,0),a!==i.check)?Ta:(r=Ma(e,n,t,t),r?(i.mode=za,Ra):(i.havedict=1,Ee))};var Il=La,$l=Ia,Ml=Oa,Nl=Tl,Zl=$a,Ul=zl,Cl=Dl,Fl=Ol,Pl=Ll,Hl="pako inflate (from Nodeca project)",ie={inflateReset:Il,inflateReset2:$l,inflateResetKeep:Ml,inflateInit:Nl,inflateInit2:Zl,inflate:Ul,inflateEnd:Cl,inflateGetHeader:Fl,inflateSetDictionary:Pl,inflateInfo:Hl};function Bl(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Kl=Bl;const Na=Object.prototype.toString,{Z_NO_FLUSH:jl,Z_FINISH:Gl,Z_OK:at,Z_STREAM_END:sn,Z_NEED_DICT:fn,Z_STREAM_ERROR:Vl,Z_DATA_ERROR:Ri,Z_MEM_ERROR:Xl}=Ue;function ft(e){this.options=Ut.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const n=this.options;n.raw&&n.windowBits>=0&&n.windowBits<16&&(n.windowBits=-n.windowBits,n.windowBits===0&&(n.windowBits=-15)),n.windowBits>=0&&n.windowBits<16&&!(e&&e.windowBits)&&(n.windowBits+=32),n.windowBits>15&&n.windowBits<48&&(n.windowBits&15||(n.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ea,this.strm.avail_out=0;let t=ie.inflateInit2(this.strm,n.windowBits);if(t!==at)throw new Error(xe[t]);if(this.header=new Kl,ie.inflateGetHeader(this.strm,this.header),n.dictionary&&(typeof n.dictionary=="string"?n.dictionary=it.string2buf(n.dictionary):Na.call(n.dictionary)==="[object ArrayBuffer]"&&(n.dictionary=new Uint8Array(n.dictionary)),n.raw&&(t=ie.inflateSetDictionary(this.strm,n.dictionary),t!==at)))throw new Error(xe[t])}ft.prototype.push=function(e,n){const t=this.strm,i=this.options.chunkSize,a=this.options.dictionary;let r,s,o;if(this.ended)return!1;for(n===~~n?s=n:s=n===!0?Gl:jl,Na.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(i),t.next_out=0,t.avail_out=i),r=ie.inflate(t,s),r===fn&&a&&(r=ie.inflateSetDictionary(t,a),r===at?r=ie.inflate(t,s):r===Ri&&(r=fn));t.avail_in>0&&r===sn&&t.state.wrap>0&&e[t.next_in]!==0;)ie.inflateReset(t),r=ie.inflate(t,s);switch(r){case Vl:case Ri:case fn:case Xl:return this.onEnd(r),this.ended=!0,!1}if(o=t.avail_out,t.next_out&&(t.avail_out===0||r===sn))if(this.options.to==="string"){let h=it.utf8border(t.output,t.next_out),l=t.next_out-h,f=it.buf2string(t.output,h);t.next_out=l,t.avail_out=i-l,l&&t.output.set(t.output.subarray(h,h+l),0),this.onData(f)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(r===at&&o===0)){if(r===sn)return r=ie.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};ft.prototype.onData=function(e){this.chunks.push(e)};ft.prototype.onEnd=function(e){e===at&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Ut.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Mn(e,n){const t=new ft(n);if(t.push(e),t.err)throw t.msg||xe[t.err];return t.result}function Yl(e,n){return n=n||{},n.raw=!0,Mn(e,n)}var Wl=ft,ql=Mn,Jl=Yl,Ql=Mn,es=Ue,ts={Inflate:Wl,inflate:ql,inflateRaw:Jl,ungzip:Ql,constants:es};const{Deflate:sf,deflate:ns,deflateRaw:ff,gzip:cf}=fl,{Inflate:df,inflate:is,inflateRaw:hf,ungzip:_f}=ts;var as=ns,rs=is;function os(e){const n=e.getTime()/1e3;return Me(n)}function ls(e){return Mt(os(e.time),new Uint8Array(ss(e.data)))}function xt(e){const n=e.map(ls),t=Mt(Me(e.length),...n);return as(t,{level:9})}function ss(e){const n=e.map(t=>t.toString(2).padStart(4,"0"));return[n[0]+n[1],n[2]+n[3],n[4]+n[5],n[6]+n[7]].map(t=>parseInt(t,2))}const fs=({encrypted:e,protocolVersion:n})=>`${e?"1":"0"}e${n}p`,zi=({data:e,encrypted:n=!1})=>fs({encrypted:n,protocolVersion:Tt})+fe.stringify(e);function cs(e){const n=Ne(e);return new Date(n*1e3)}function ds(e){return e.flatMap(t=>{const i=t.toString(2).padStart(8,"0");return[i.slice(0,4),i.slice(4)]}).map(t=>parseInt(t,2))}function hs(e){return{time:cs(e.subarray(0,4)),data:ds(Array.from(e.subarray(4)))}}function cn(e){try{e=rs(e)}catch(i){return console.error(i),[]}const n=Ne(e.subarray(0,4)),t=8;return Array.from({length:n},(i,a)=>{const r=4+a*t,s=e.subarray(r,r+t);return hs(s)})}function _s(e){return e.map(({time:n,data:t})=>({time:new Date(n),data:t}))}const us=e=>e.filter((n,t,i)=>i.findIndex(a=>n.time.getTime()===a.time.getTime()&&n.data.join("")===a.data.join(""))===t),Xe=2e6;async function Za(e,n,t=Xe,i=["encrypt","decrypt"]){const a=new TextEncoder,r=await crypto.subtle.importKey("raw",a.encode(n),"PBKDF2",!1,["deriveKey"]);return{key:await crypto.subtle.deriveKey({name:"PBKDF2",salt:e,iterations:t,hash:"SHA-256"},r,{name:"AES-GCM",length:256},!1,i),salt:e}}async function ps(e,n,t=["encrypt","decrypt"]){const i=e.slice(0,32),a=e.slice(32+16,32+16+4);return Za(i,n,Ne(a),t)}async function dn(e,n,t=Xe){const i=n.salt,a=crypto.getRandomValues(new Uint8Array(16)),r=Me(t),s=new Uint8Array(await crypto.subtle.encrypt({name:"AES-GCM",iv:a},n.key,e)),o=i.length+a.length+r.length+s.length,h=new Uint8Array(o);return h.set(i),h.set(a,i.length),h.set(r,i.length+a.length),h.set(s,i.length+a.length+r.length),h}async function Di(e,n){const t=e.slice(32,48),i=e.slice(32+16+4),a=new Uint8Array(await window.crypto.subtle.decrypt({name:"AES-GCM",iv:t},n.key,i));if(!a)throw new Error("Malformed content");return a}const Tt=2,gs={exportFile(e){return{type:"lifewheel",version:Tt,url:window.location.href,encrypted:!1,data:e}},async exportEncryptedFile(e,n){if(e instanceof Array&&typeof n>"u")throw new Error("Missing key");const t=e instanceof Array?await dn(xt(e),n,Xe):e;return{type:"lifewheel",version:Tt,url:window.location.href,encrypted:!0,data:fe.stringify(t)}},exportLink(e){return zi({data:xt(e),encrypted:!1})},async exportEncryptedLink(e,n){if(e instanceof Array&&typeof n>"u")throw new Error("Missing key");const t=e instanceof Array?await dn(xt(e),n,Xe):e;return zi({data:t,encrypted:!0})},importFile(e){return _s(e.data)},async importEncryptedFile(e,n){const t=await Di(fe.parse(e.data),n);return cn(t)},parseLink(e){const n=e.match(/^([10])e(\d+)p/);if(!n)throw new Error(`Invalid header: ${e}`);const t=e.replace(n[0],"");if(!t)throw new Error(`Empty data: ${e}`);return{encrypted:n[1]==="1",protocolVersion:parseInt(n[2],10),data:fe.parse(t)}},importLink(e){if(e.encrypted)throw new Error("Link is encrypted");return cn(e.data)},async importEncryptedLink(e,n){const t=await Di(e.data,n);return cn(t)},deriveKey:Za,deriveKeyFromData:ps,getUniqueEntries(e,n){const t=us([...e,...n]).sort((i,a)=>i.time.getTime()-a.time.getTime());return console.log(`Imported ${Math.abs(t.length-e.length)} - filtered out ${Math.abs(n.length-t.length)}`,t.map(i=>i.time.getTime())),t},getEncryptedData(e,n){return dn(xt(e),n)},PROTOCOL_VERSION:Tt,ITERATIONS:Xe},te={1:mr,2:gs},ws=2,ue=te[ws],Oi={exportFile:ue.exportFile,exportEncryptedFile:ue.exportEncryptedFile,exportLink:ue.exportLink,exportEncryptedLink:ue.exportEncryptedLink,importFile({file:e}){return te[e.version].importFile(e)},importEncryptedFile({file:e,key:n}){return te[e.version].importEncryptedFile(e,n)},parseLink({link:e}){for(const n of Object.values(te).map(({parseLink:t})=>t).reverse())try{const t=n(e);if(t.protocolVersion)return t}catch{}throw new Error("Unable to parse link and determine protocolVersion: "+e)},importLink({link:e}){return te[e.protocolVersion].importLink(e)},importEncryptedLink({link:e,key:n}){return te[e.protocolVersion].importEncryptedLink(e,n)},deriveKey({salt:e,password:n,iterations:t,keyUsages:i,protocolVersion:a}){return te[a].deriveKey(e,n,t,i)},deriveKeyFromData({data:e,password:n,keyUsages:t,protocolVersion:i}){return te[i].deriveKeyFromData(e,n,t)},getUniqueEntries({currentEntries:e,newEntries:n,protocolVersion:t}){return te[t].getUniqueEntries(e,n)},getEncryptedData:ue.getEncryptedData,PROTOCOL_VERSION:ue.PROTOCOL_VERSION,ITERATIONS:ue.ITERATIONS};async function bs(e,n){try{await lr(e,n),localStorage.setItem("keyUpdate",Date.now().toString())}catch(t){console.error(t)}}async function ys(e){try{return await or(e)??null}catch(n){console.error(n)}return null}async function uf(e){try{await sr(e),localStorage.setItem("keyUpdate",Date.now().toString())}catch(n){console.error(n)}}function ms(e,n){let t;do t=crypto.getRandomValues(new Uint8Array(1))[0];while(t>=256-256%n);return e+t%n}async function pf({length:e=4,words:n}){if(e<4)throw new Error("Passphrase length must be at least 4 to work with the word list");const t=[];for(;t.length<e;){const i=Array.from({length:e},()=>ms(1,6)).join("");t.includes(n[i])||t.push(n[i])}return t.join("-")}async function gf(e,n=!1){const t=crypto.getRandomValues(new Uint8Array(32)),i=await Oi.deriveKey({salt:t,password:e,protocolVersion:Oi.PROTOCOL_VERSION});return n&&await bs("enc",i),i}function xs(e){let n,t,i,a,r;const s=e[5].default,o=Ca(s,e,e[4],null);let h=[e[3],{disabled:e[0]},{class:t=We(Ii,Li[e[1]],e[2])}],l={};for(let f=0;f<h.length;f+=1)l=Ye(l,h[f]);return{c(){n=Xi("button"),o&&o.c(),this.h()},l(f){n=Yi(f,"BUTTON",{class:!0});var u=W(n);o&&o.l(u),u.forEach(N),this.h()},h(){Un(n,l)},m(f,u){_e(f,n,u),o&&o.m(n,null),n.autofocus&&n.focus(),i=!0,a||(r=Fa(n,"click",e[6]),a=!0)},p(f,[u]){o&&o.p&&(!i||u&16)&&Pa(o,s,f,f[4],i?Ba(s,f[4],u,null):Ha(f[4]),null),Un(n,l=ar(h,[u&8&&f[3],(!i||u&1)&&{disabled:f[0]},(!i||u&6&&t!==(t=We(Ii,Li[f[1]],f[2])))&&{class:t}]))},i(f){i||(kt(o,f),i=!0)},o(f){Wa(o,f),i=!1},d(f){f&&N(n),o&&o.d(f),a=!1,r()}}}const Li={solid:"rounded-lg bg-gradient-to-br from-emerald-400 to-emerald-400/75 px-3 py-2 text-base xs:text-lg text-black hover:from-emerald-500 hover:to-emerald-500/75",outline:"rounded-lg px-3 py-2 text-base xs:text-lg hover:bg-emerald-400/10",ghost:"rounded-lg px-3 py-2 text-base xs:text-lg hover:bg-emerald-400/5 border-transparent hover:border-emerald-500/5 shadow-none",roundSolid:"bg-gradient-to-br from-emerald-400 to-emerald-400/75 hover:from-emerald-500 hover:to-emerald-500/75 w-12 2xs:w-14 xs:w-16 h-12 2xs:h-14 xs:h-16 text-2xl rounded-full text-black grid place-items-center",roundOutline:"w-12 2xs:w-14 xs:w-16 h-12 2xs:h-14 xs:h-16 text-2xl rounded-full hover:bg-emerald-400/10 grid place-items-center",roundGhost:"rounded-full text-lg w-12 2xs:w-14 xs:w-16 h-12 2xs:h-14 xs:h-16 hover:bg-emerald-400/5 border-transparent hover:border-emerald-500/5 shadow-none grid place-items-center"},vs="solid",Ii="border-2 border-emerald-400 hover:border-emerald-500 shadow-md disabled:cursor-not-allowed disabled:opacity-25";function Es(e,n,t){const i=["disabled","variant","class"];let a=Cn(n,i),{$$slots:r={},$$scope:s}=n,{disabled:o=!1}=n,{variant:h=vs}=n,{class:l=""}=n;function f(u){ja.call(this,e,u)}return e.$$set=u=>{n=Ye(Ye({},n),Ka(u)),t(3,a=Cn(n,i)),"disabled"in u&&t(0,o=u.disabled),"variant"in u&&t(1,h=u.variant),"class"in u&&t(2,l=u.class),"$$scope"in u&&t(4,s=u.$$scope)},[o,h,l,a,s,r,f]}class wf extends Ji{constructor(n){super(),Qi(this,n,Es,xs,Vi,{disabled:0,variant:1,class:2})}}var hn={local:{},session:{}};function ks(e){return e==="local"?localStorage:sessionStorage}function As(e,n,t){var i,a;const r=(i=t==null?void 0:t.serializer)!=null?i:JSON,s=(a=t==null?void 0:t.storage)!=null?a:"local",o=typeof window<"u"&&typeof document<"u",h=o?ks(s):null;function l(f,u){h==null||h.setItem(f,r.stringify(u))}if(!hn[s][e]){const f=$e(n,d=>{const _=h==null?void 0:h.getItem(e);if(_&&d(r.parse(_)),o&&s=="local"){const g=x=>{x.key===e&&d(x.newValue?r.parse(x.newValue):null)};return window.addEventListener("storage",g),()=>window.removeEventListener("storage",g)}}),{subscribe:u,set:c}=f;hn[s][e]={set(d){l(e,d),c(d)},update(d){return f.update(_=>{const g=d(_);return l(e,g),g})},subscribe:u}}return hn[s][e]}const bf=$e(!0),yf=$e(null),mf=As("lifewheelReflections",[],{serializer:{parse:e=>JSON.parse(e,(n,t)=>n==="time"?new Date(t):t),stringify:JSON.stringify}}),Ss=$e(null),Ts=$e(null);async function Rs(){return(await fetch(`${er}/words.txt`).then(n=>n.text()).catch(n=>{console.error(n)})??"").trim().split(`
`).reduce((n,t)=>{const[i,a]=t.split("	");return n[i]=a,n},{})}async function zs(){Ss.set(await ys("enc")),Ts.set(await Rs())}zs();function ae(e){return function(){return e}}const $i=Math.abs,U=Math.atan2,pe=Math.cos,Ds=Math.max,_n=Math.min,X=Math.sin,ze=Math.sqrt,F=1e-12,rt=Math.PI,$t=rt/2,Os=2*rt;function Ls(e){return e>1?0:e<-1?rt:Math.acos(e)}function Mi(e){return e>=1?$t:e<=-1?-$t:Math.asin(e)}const kn=Math.PI,An=2*kn,ge=1e-6,Is=An-ge;function Ua(e){this._+=e[0];for(let n=1,t=e.length;n<t;++n)this._+=arguments[n]+e[n]}function $s(e){let n=Math.floor(e);if(!(n>=0))throw new Error(`invalid digits: ${e}`);if(n>15)return Ua;const t=10**n;return function(i){this._+=i[0];for(let a=1,r=i.length;a<r;++a)this._+=Math.round(arguments[a]*t)/t+i[a]}}class Ms{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?Ua:$s(n)}moveTo(n,t){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,t){this._append`L${this._x1=+n},${this._y1=+t}`}quadraticCurveTo(n,t,i,a){this._append`Q${+n},${+t},${this._x1=+i},${this._y1=+a}`}bezierCurveTo(n,t,i,a,r,s){this._append`C${+n},${+t},${+i},${+a},${this._x1=+r},${this._y1=+s}`}arcTo(n,t,i,a,r){if(n=+n,t=+t,i=+i,a=+a,r=+r,r<0)throw new Error(`negative radius: ${r}`);let s=this._x1,o=this._y1,h=i-n,l=a-t,f=s-n,u=o-t,c=f*f+u*u;if(this._x1===null)this._append`M${this._x1=n},${this._y1=t}`;else if(c>ge)if(!(Math.abs(u*h-l*f)>ge)||!r)this._append`L${this._x1=n},${this._y1=t}`;else{let d=i-s,_=a-o,g=h*h+l*l,x=d*d+_*_,w=Math.sqrt(g),E=Math.sqrt(c),m=r*Math.tan((kn-Math.acos((g+c-x)/(2*w*E)))/2),p=m/E,k=m/w;Math.abs(p-1)>ge&&this._append`L${n+p*f},${t+p*u}`,this._append`A${r},${r},0,0,${+(u*d>f*_)},${this._x1=n+k*h},${this._y1=t+k*l}`}}arc(n,t,i,a,r,s){if(n=+n,t=+t,i=+i,s=!!s,i<0)throw new Error(`negative radius: ${i}`);let o=i*Math.cos(a),h=i*Math.sin(a),l=n+o,f=t+h,u=1^s,c=s?a-r:r-a;this._x1===null?this._append`M${l},${f}`:(Math.abs(this._x1-l)>ge||Math.abs(this._y1-f)>ge)&&this._append`L${l},${f}`,i&&(c<0&&(c=c%An+An),c>Is?this._append`A${i},${i},0,1,${u},${n-o},${t-h}A${i},${i},0,1,${u},${this._x1=l},${this._y1=f}`:c>ge&&this._append`A${i},${i},0,${+(c>=kn)},${u},${this._x1=n+i*Math.cos(r)},${this._y1=t+i*Math.sin(r)}`)}rect(n,t,i,a){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+t}h${i=+i}v${+a}h${-i}Z`}toString(){return this._}}function Ns(e){let n=3;return e.digits=function(t){if(!arguments.length)return n;if(t==null)n=null;else{const i=Math.floor(t);if(!(i>=0))throw new RangeError(`invalid digits: ${t}`);n=i}return e},()=>new Ms(n)}function Zs(e){return e.innerRadius}function Us(e){return e.outerRadius}function Cs(e){return e.startAngle}function Fs(e){return e.endAngle}function Ps(e){return e&&e.padAngle}function Hs(e,n,t,i,a,r,s,o){var h=t-e,l=i-n,f=s-a,u=o-r,c=u*h-f*l;if(!(c*c<F))return c=(f*(n-r)-u*(e-a))/c,[e+c*h,n+c*l]}function vt(e,n,t,i,a,r,s){var o=e-t,h=n-i,l=(s?r:-r)/ze(o*o+h*h),f=l*h,u=-l*o,c=e+f,d=n+u,_=t+f,g=i+u,x=(c+_)/2,w=(d+g)/2,E=_-c,m=g-d,p=E*E+m*m,k=a-r,O=c*g-_*d,b=(m<0?-1:1)*ze(Ds(0,k*k*p-O*O)),T=(O*m-E*b)/p,S=(-O*E-m*b)/p,y=(O*m+E*b)/p,v=(-O*E+m*b)/p,$=T-x,A=S-w,z=y-x,K=v-w;return $*$+A*A>z*z+K*K&&(T=y,S=v),{cx:T,cy:S,x01:-f,y01:-u,x11:T*(a/k-1),y11:S*(a/k-1)}}function Bs(){var e=Zs,n=Us,t=ae(0),i=null,a=Cs,r=Fs,s=Ps,o=null,h=Ns(l);function l(){var f,u,c=+e.apply(this,arguments),d=+n.apply(this,arguments),_=a.apply(this,arguments)-$t,g=r.apply(this,arguments)-$t,x=$i(g-_),w=g>_;if(o||(o=f=h()),d<c&&(u=d,d=c,c=u),!(d>F))o.moveTo(0,0);else if(x>Os-F)o.moveTo(d*pe(_),d*X(_)),o.arc(0,0,d,_,g,!w),c>F&&(o.moveTo(c*pe(g),c*X(g)),o.arc(0,0,c,g,_,w));else{var E=_,m=g,p=_,k=g,O=x,b=x,T=s.apply(this,arguments)/2,S=T>F&&(i?+i.apply(this,arguments):ze(c*c+d*d)),y=_n($i(d-c)/2,+t.apply(this,arguments)),v=y,$=y,A,z;if(S>F){var K=Mi(S/c*X(T)),ct=Mi(S/d*X(T));(O-=K*2)>F?(K*=w?1:-1,p+=K,k-=K):(O=0,p=k=(_+g)/2),(b-=ct*2)>F?(ct*=w?1:-1,E+=ct,m-=ct):(b=0,E=m=(_+g)/2)}var Ae=d*pe(E),Se=d*X(E),dt=c*pe(k),ht=c*X(k);if(y>F){var _t=d*pe(m),ut=d*X(m),Ft=c*pe(p),Pt=c*X(p),Q;if(x<rt)if(Q=Hs(Ae,Se,Ft,Pt,_t,ut,dt,ht)){var Ht=Ae-Q[0],Bt=Se-Q[1],Kt=_t-Q[0],jt=ut-Q[1],Nn=1/X(Ls((Ht*Kt+Bt*jt)/(ze(Ht*Ht+Bt*Bt)*ze(Kt*Kt+jt*jt)))/2),Zn=ze(Q[0]*Q[0]+Q[1]*Q[1]);v=_n(y,(c-Zn)/(Nn-1)),$=_n(y,(d-Zn)/(Nn+1))}else v=$=0}b>F?$>F?(A=vt(Ft,Pt,Ae,Se,d,$,w),z=vt(_t,ut,dt,ht,d,$,w),o.moveTo(A.cx+A.x01,A.cy+A.y01),$<y?o.arc(A.cx,A.cy,$,U(A.y01,A.x01),U(z.y01,z.x01),!w):(o.arc(A.cx,A.cy,$,U(A.y01,A.x01),U(A.y11,A.x11),!w),o.arc(0,0,d,U(A.cy+A.y11,A.cx+A.x11),U(z.cy+z.y11,z.cx+z.x11),!w),o.arc(z.cx,z.cy,$,U(z.y11,z.x11),U(z.y01,z.x01),!w))):(o.moveTo(Ae,Se),o.arc(0,0,d,E,m,!w)):o.moveTo(Ae,Se),!(c>F)||!(O>F)?o.lineTo(dt,ht):v>F?(A=vt(dt,ht,_t,ut,c,-v,w),z=vt(Ae,Se,Ft,Pt,c,-v,w),o.lineTo(A.cx+A.x01,A.cy+A.y01),v<y?o.arc(A.cx,A.cy,v,U(A.y01,A.x01),U(z.y01,z.x01),!w):(o.arc(A.cx,A.cy,v,U(A.y01,A.x01),U(A.y11,A.x11),!w),o.arc(0,0,c,U(A.cy+A.y11,A.cx+A.x11),U(z.cy+z.y11,z.cx+z.x11),w),o.arc(z.cx,z.cy,v,U(z.y11,z.x11),U(z.y01,z.x01),!w))):o.arc(0,0,c,k,p,w)}if(o.closePath(),f)return o=null,f+""||null}return l.centroid=function(){var f=(+e.apply(this,arguments)+ +n.apply(this,arguments))/2,u=(+a.apply(this,arguments)+ +r.apply(this,arguments))/2-rt/2;return[pe(u)*f,X(u)*f]},l.innerRadius=function(f){return arguments.length?(e=typeof f=="function"?f:ae(+f),l):e},l.outerRadius=function(f){return arguments.length?(n=typeof f=="function"?f:ae(+f),l):n},l.cornerRadius=function(f){return arguments.length?(t=typeof f=="function"?f:ae(+f),l):t},l.padRadius=function(f){return arguments.length?(i=f==null?null:typeof f=="function"?f:ae(+f),l):i},l.startAngle=function(f){return arguments.length?(a=typeof f=="function"?f:ae(+f),l):a},l.endAngle=function(f){return arguments.length?(r=typeof f=="function"?f:ae(+f),l):r},l.padAngle=function(f){return arguments.length?(s=typeof f=="function"?f:ae(+f),l):s},l.context=function(f){return arguments.length?(o=f??null,l):o},l}function Ks(e){const n=e-1;return n*n*n+1}function xf(e,{delay:n=0,duration:t=400,easing:i=Wi}={}){const a=+getComputedStyle(e).opacity;return{delay:n,duration:t,easing:i,css:r=>`opacity: ${r*a}`}}function js(e,{delay:n=0,duration:t=400,easing:i=Ks,start:a=0,opacity:r=0}={}){const s=getComputedStyle(e),o=+s.opacity,h=s.transform==="none"?"":s.transform,l=1-a,f=o*(1-r);return{delay:n,duration:t,easing:i,css:(u,c)=>`
			transform: ${h} scale(${1-l*c});
			opacity: ${o-f*c}
		`}}function Ni(e,n,t){const i=e.slice();return i[6]=n[t],i[8]=t,i}function Zi(e,n,t){const i=e.slice();return i[9]=n[t],i[8]=t,i}function Gs(e,n,t){const i=e.slice();return i[11]=n[t],i[8]=t,i}function Ui(e,n,t){const i=e.slice();return i[9]=n[t],i[8]=t,i}function Ci(e){let n,t,i,a,r=we(ji),s=[];for(let c=0;c<r.length;c+=1)s[c]=Fi(Ui(e,r,c));let o=we(ea),h=[];for(let c=0;c<o.length;c+=1)h[c]=Vs(Gs(e,o,c));let l=e[0][0]!==0&&Pi(e),f=we(Ki),u=[];for(let c=0;c<f.length;c+=1)u[c]=Bi(Ni(e,f,c));return{c(){n=le("svg");for(let c=0;c<s.length;c+=1)s[c].c();t=le("defs");for(let c=0;c<h.length;c+=1)h[c].c();l&&l.c(),i=zt();for(let c=0;c<u.length;c+=1)u[c].c();this.h()},l(c){n=se(c,"svg",{width:!0,height:!0,viewBox:!0});var d=W(n);for(let g=0;g<s.length;g+=1)s[g].l(d);t=se(d,"defs",{});var _=W(t);for(let g=0;g<h.length;g+=1)h[g].l(_);_.forEach(N),l&&l.l(d),i=zt();for(let g=0;g<u.length;g+=1)u[g].l(d);d.forEach(N),this.h()},h(){I(n,"width","100%"),I(n,"height","100%"),I(n,"viewBox","0 0 500 500")},m(c,d){_e(c,n,d);for(let _=0;_<s.length;_+=1)s[_]&&s[_].m(n,null);Dt(n,t);for(let _=0;_<h.length;_+=1)h[_]&&h[_].m(t,null);l&&l.m(n,null),Dt(n,i);for(let _=0;_<u.length;_+=1)u[_]&&u[_].m(n,null)},p(c,d){if(d&0){r=we(ji);let _;for(_=0;_<r.length;_+=1){const g=Ui(c,r,_);s[_]?s[_].p(g,d):(s[_]=Fi(g),s[_].c(),s[_].m(n,t))}for(;_<s.length;_+=1)s[_].d(1);s.length=r.length}if(c[0][0]!==0?l?l.p(c,d):(l=Pi(c),l.c(),l.m(n,i)):l&&(l.d(1),l=null),d&0){f=we(Ki);let _;for(_=0;_<f.length;_+=1){const g=Ni(c,f,_);u[_]?u[_].p(g,d):(u[_]=Bi(g),u[_].c(),u[_].m(n,null))}for(;_<u.length;_+=1)u[_].d(1);u.length=f.length}},i(c){c&&(a||Xa(()=>{a=qa(n,js,{duration:600,start:.5}),a.start()}))},o:Ie,d(c){c&&N(n),Et(s,c),Et(h,c),l&&l.d(),Et(u,c)}}}function Fi(e){let n;return{c(){n=le("path"),this.h()},l(t){n=se(t,"path",{d:!0,class:!0,style:!0}),W(n).forEach(N),this.h()},h(){I(n,"d",e[9]),I(n,"class",We(ea[e[8]].fill,"opacity-20")),qi(n,"transform","translate3d(50%, 50%, 0)")},m(t,i){_e(t,n,i)},p:Ie,d(t){t&&N(n)}}}function Vs(e){let n,t,i;return{c(){n=le("linearGradient"),t=le("stop"),i=le("stop"),this.h()},l(a){n=se(a,"linearGradient",{id:!0,cx:!0,cy:!0,r:!0});var r=W(n);t=se(r,"stop",{offset:!0,"stop-color":!0,"stop-opacity":!0}),W(t).forEach(N),i=se(r,"stop",{offset:!0,"stop-color":!0}),W(i).forEach(N),r.forEach(N),this.h()},h(){I(t,"offset","0%"),I(t,"stop-color",e[11].rgb),I(t,"stop-opacity","0.5"),I(i,"offset","100%"),I(i,"stop-color",e[11].rgb),I(n,"id",`gradient-${e[8]}`),I(n,"cx","0.5"),I(n,"cy","0.5"),I(n,"r","0.5")},m(a,r){_e(a,n,r),Dt(n,t),Dt(n,i)},p:Ie,d(a){a&&N(n)}}}function Pi(e){let n,t=we(e[3]),i=[];for(let a=0;a<t.length;a+=1)i[a]=Hi(Zi(e,t,a));return{c(){for(let a=0;a<i.length;a+=1)i[a].c();n=zt()},l(a){for(let r=0;r<i.length;r+=1)i[r].l(a);n=zt()},m(a,r){for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(a,r);_e(a,n,r)},p(a,r){if(r&8){t=we(a[3]);let s;for(s=0;s<t.length;s+=1){const o=Zi(a,t,s);i[s]?i[s].p(o,r):(i[s]=Hi(o),i[s].c(),i[s].m(n.parentNode,n))}for(;s<i.length;s+=1)i[s].d(1);i.length=t.length}},d(a){a&&N(n),Et(i,a)}}}function Hi(e){let n,t;return{c(){n=le("path"),this.h()},l(i){n=se(i,"path",{d:!0,style:!0,fill:!0}),W(n).forEach(N),this.h()},h(){I(n,"d",t=e[9]),qi(n,"transform","translate3d(50%, 50%, 0)"),I(n,"fill",`url(#gradient-${e[8]})`)},m(i,a){_e(i,n,a)},p(i,a){a&8&&t!==(t=i[9])&&I(n,"d",t)},d(i){i&&N(n)}}}function Bi(e){let n;return{c(){n=le("circle"),this.h()},l(t){n=se(t,"circle",{cx:!0,cy:!0,r:!0,class:!0}),W(n).forEach(N),this.h()},h(){I(n,"cx",250),I(n,"cy",250),I(n,"r",(e[8]+2)*Rt),I(n,"class","fill-none stroke-stone-900 stroke-1")},m(t,i){_e(t,n,i)},p:Ie,d(t){t&&N(n)}}}function Xs(e){let n,t,i=e[4]&&Ci(e);return{c(){n=Xi("div"),i&&i.c(),this.h()},l(a){n=Yi(a,"DIV",{class:!0});var r=W(n);i&&i.l(r),r.forEach(N),this.h()},h(){I(n,"class",t=We("pointer-events-none aspect-square w-full select-none",e[2]))},m(a,r){_e(a,n,r),i&&i.m(n,null)},p(a,[r]){a[4]?i?(i.p(a,r),r&16&&kt(i,1)):(i=Ci(a),i.c(),kt(i,1),i.m(n,null)):i&&(i.d(1),i=null),r&4&&t!==(t=We("pointer-events-none aspect-square w-full select-none",a[2]))&&I(n,"class",t)},i(a){kt(i)},o:Ie,d(a){a&&N(n),i&&i.d()}}}const un=Math.PI*2/8,Rt=20,Ys=nr,Ki=Array(10),Ws=(e,n)=>Bs().innerRadius(Rt).outerRadius(e*Rt+Rt).startAngle(n*un).endAngle(n*un+un).cornerRadius(0),Sn=e=>e.map((n,t)=>Ws(n,t)()),ji=Sn(tr.map(()=>Ys));function qs(e,n,t){let i,a=Ie,r=()=>(a(),a=Ya(o,u=>t(5,i=u)),o);e.$$.on_destroy.push(()=>a());let{data:s}=n,{tweenedLifewheel:o}=n;r();let{class:h=""}=n,l=[],f=!1;return Ga(()=>{t(4,f=!0),o.set(s),t(3,l=Sn(i))}),Va(()=>{o.set(ir)}),e.$$set=u=>{"data"in u&&t(0,s=u.data),"tweenedLifewheel"in u&&r(t(1,o=u.tweenedLifewheel)),"class"in u&&t(2,h=u.class)},e.$$.update=()=>{e.$$.dirty&35&&(o.set(s),t(3,l=Sn(i)))},[s,o,h,l,f,i]}class vf extends Ji{constructor(n){super(),Qi(this,n,qs,Xs,Vi,{data:0,tweenedLifewheel:1,class:2})}}function Gi(e){return Object.prototype.toString.call(e)==="[object Date]"}function Tn(e,n){if(e===n||e!==e)return()=>e;const t=typeof e;if(t!==typeof n||Array.isArray(e)!==Array.isArray(n))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const i=n.map((a,r)=>Tn(e[r],a));return a=>i.map(r=>r(a))}if(t==="object"){if(!e||!n)throw new Error("Object cannot be null");if(Gi(e)&&Gi(n)){e=e.getTime(),n=n.getTime();const r=n-e;return s=>new Date(e+s*r)}const i=Object.keys(n),a={};return i.forEach(r=>{a[r]=Tn(e[r],n[r])}),r=>{const s={};return i.forEach(o=>{s[o]=a[o](r)}),s}}if(t==="number"){const i=n-e;return a=>e+a*i}throw new Error(`Cannot interpolate ${t} values`)}function Ef(e,n={}){const t=$e(e);let i,a=e;function r(s,o){if(e==null)return t.set(e=s),Promise.resolve();a=s;let h=i,l=!1,{delay:f=0,duration:u=400,easing:c=Wi,interpolate:d=Tn}=Ye(Ye({},n),o);if(u===0)return h&&(h.abort(),h=null),t.set(e=a),Promise.resolve();const _=Ja()+f;let g;return i=Qa(x=>{if(x<_)return!0;l||(g=d(e,s),typeof u=="function"&&(u=u(e,s)),l=!0),h&&(h.abort(),h=null);const w=x-_;return w>u?(t.set(e=s),!1):(t.set(e=g(c(w/u))),!0)}),i.promise}return{set:r,update:(s,o)=>r(s(a,e),o),subscribe:t.subscribe}}export{wf as B,Oi as C,vf as L,Ss as a,fe as b,We as c,pf as d,yf as e,ar as f,gf as g,af as h,nf as i,Ii as j,uf as k,bf as l,lf as m,Ks as n,vs as o,xf as p,rf as q,mf as r,bs as s,Ef as t,of as u,Li as v,Ts as w};
